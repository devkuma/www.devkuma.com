<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="ko" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.115.2">
<meta name="robots" content="index, follow">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>JUnit5 확장 모델 | devkuma</title>
<meta name="description" content="JUnit5의 여러 확장 모델에 대한 설명">
<meta property="og:title" content="JUnit5 확장 모델" />
<meta property="og:description" content="JUnit5의 여러 확장 모델에 대한 설명" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.devkuma.com/docs/junit5/extension/" /><meta property="article:section" content="120_Programming_Testing" />
<meta property="article:published_time" content="2022-12-26T10:10:31+09:00" />
<meta property="article:modified_time" content="2024-04-14T11:44:44+09:00" />
<meta itemprop="name" content="JUnit5 확장 모델">
<meta itemprop="description" content="JUnit5의 여러 확장 모델에 대한 설명"><meta itemprop="datePublished" content="2022-12-26T10:10:31+09:00" />
<meta itemprop="dateModified" content="2024-04-14T11:44:44+09:00" />
<meta itemprop="wordCount" content="5080">
<meta itemprop="keywords" content="Java,JUnit," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="JUnit5 확장 모델"/>
<meta name="twitter:description" content="JUnit5의 여러 확장 모델에 대한 설명"/>




<link rel="preload" href="/scss/main.min.790fe12c03a8f0e39bbc098bc68135b3f62ca44eea0a34a49847e6ef480a64c6.css" as="style">
<link href="/scss/main.min.790fe12c03a8f0e39bbc098bc68135b3f62ca44eea0a34a49847e6ef480a64c6.css" rel="stylesheet" integrity="">

<script
  src="https://code.jquery.com/jquery-3.6.3.min.js"
  integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ=="
  crossorigin="anonymous"></script>

<link rel="canonical" href="https://www.devkuma.com/docs/junit5/extension/">
<link rel="apple-touch-icon" href="/logo/180x180.jpg">
<link rel="apple-touch-icon" sizes="76x76" href="/logo/76x76.jpg">
<link rel="apple-touch-icon" sizes="120x120" href="/logo/120x120.jpg">
<link rel="apple-touch-icon" sizes="152x152" href="/logo/152x152.jpg">
<link rel="alternate" type="application/rss+xml" title="프로그램 개발 지식 공유, devkuma" href="https://www.devkuma.com/docs/index.xml" />

<meta name="google-site-verification" content="H-H39pWMNsr140LTp2QECNnXtOVbixbDubFbZV668hg" />
<script async src="https://www.googletagmanager.com/gtag/js?id=G-FW3TZ3QLYR"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-FW3TZ3QLYR');
}
</script>
  </head>
  <body class="td-page">
    <header>
      <nav class="td-navbar navbar-dark js-navbar-scroll">
<div class="container-fluid flex-column flex-md-row">
  <a class="navbar-brand" href="/"><span class="navbar-brand__logo navbar-logo"><svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)" fill="#fff" stroke="none"><path d="M775 4993c-268-38-509-215-618-453-71-155-67-24-67-1986 0-1958-5-1818 65-1971 43-94 86-155 162-230 117-115 283-198 448-223 48-7 618-10 1840-8l1770 3 75 23c231 70 408 216 505 417 81 168 75 7 75 1995 0 1969 5 1824-67 1980-96 211-277 360-528 436-57 18-150 19-1845 20-982 1-1798-1-1815-3zm543-584c53-11 123-30 154-44 144-61 319-213 379-328 19-36 22-37 57-31 20 4 44 10 52 14 20 10 119 30 250 50 228 35 454 36 695 4 91-12 256-47 299-63 16-7 29-10 30-9 1 2 18 28 38 58 115 178 309 304 533 348 39 8 272 8 310 0 103-21 141-34 233-80 157-77 285-206 357-356 54-113 72-195 73-329 1-103-5-142-44-273-25-87-148-259-223-315-40-29-50-51-32-71 5-5 21-38 36-74 61-145 96-253 110-340 3-19 11-60 17-90 13-62 17-434 5-520-16-123-37-209-76-325-56-165-174-395-246-477-11-13-35-43-54-68-44-58-254-267-306-305-22-17-42-32-45-35-18-18-235-161-275-181-16-9-54-28-83-44-29-15-55-26-57-23-2 2 6 16 18 30 12 15 30 35 39 47 37 44 109 161 134 217 42 92 69 194 81 304 46 396-119 758-455 996-261 186-532 256-862 225-205-19-372-77-540-185-142-92-289-241-378-382-110-175-166-481-127-699 37-203 125-383 260-533 31-34 51-62 44-62-22 0-198 89-304 153-55 34-140 93-190 131-92 70-307 279-360 350-17 22-39 51-50 65-19 25-38 52-97 146-66 106-175 374-191 472-3 16-8 39-11 53-40 177-41 522-2 725 3 17 8 44 11 60 16 86 81 266 130 359 15 27 14 30-7 44-77 53-208 204-252 291-97 188-96 485 2 677 33 66 129 191 183 238 192 171 465 239 737 185zm1414-2174c55-12 137-48 168-72 62-48 81-69 1e2-108 36-74 28-162-19-224-31-42-138-121-162-121-10 0-20-4-23-9-23-36-255-49-366-20-283 72-386 274-224 436 55 55 149 107 215 118 19 3 35 8 37 9 9 10 225 3 274-9z"/><path d="M3885 4013c-85-13-182-63-243-126l-33-34 40-26c22-15 43-27 45-27 9 0 225-150 252-175 6-5 36-30 65-55 66-55 172-159 222-219 23-26 42-41 51-38 23 9 91 108 112 162 13 35 19 76 18 135 0 76-3 92-34 155-57 119-168 210-289 238-58 14-152 18-206 10z"/><path d="M985 3976c-92-29-162-80-221-161-62-86-79-149-72-275 6-98 31-158 1e2-234l37-41 48 55c154 179 350 348 548 472 28 18 52 33 54 35 9 6-64 75-105 99-77 45-145 62-251 62-54 0-116-6-138-12z"/></g></svg></span><span class="navbar-brand__name">devkuma</span></a>
  <div class="td-navbar-nav-scroll ms-md-auto" id="main_navbar">
    <ul class="navbar-nav">
      
			<li class="dropdown sub-menu d-none d-lg-block">
				<a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <i class='fas fa-keyboard'></i>
          <span>Programming</span>
				</a>
        <ul class="dropdown-menu">
					
					<a class="dropdown-item" href="/docs/category/programming/design/">Design and Development</a>
					
					<a class="dropdown-item" href="/docs/category/programming/testing/">Software Testing</a>
					
					<a class="dropdown-item" href="/docs/category/programming/jvm/">JVM Based Programming</a>
					
					<a class="dropdown-item" href="/docs/category/programming/spring/">Spring framework</a>
					
					<a class="dropdown-item" href="/docs/category/programming/web/">Web Programming</a>
					
					<a class="dropdown-item" href="/docs/category/programming/etc/">그밖에 Programming</a>
					
					<a class="dropdown-item" href="/docs/category/programming/tools/">Programming Tools</a>
					
				</ul>
			</li>
      <li class="d-lg-none">
        <a class="nav-link" href="/docs/category/programming/" role="button">
          <span>Programming</span>
				</a>
      </li>
      
			
      
			<li class="dropdown sub-menu d-none d-lg-block">
				<a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <i class='fas fa-database'></i>
          <span>Data Science</span>
				</a>
        <ul class="dropdown-menu">
					
					<a class="dropdown-item" href="/docs/category/data-science/big-data/">Big Data</a>
					
					<a class="dropdown-item" href="/docs/category/data-science/rdb/">Relational Database</a>
					
					<a class="dropdown-item" href="/docs/category/data-science/nosql/">NoSQL Database</a>
					
					<a class="dropdown-item" href="/docs/category/data-science/graph-db/">Graph Databse</a>
					
				</ul>
			</li>
      <li class="d-lg-none">
        <a class="nav-link" href="/docs/category/data-science/" role="button">
          <span>Data Science</span>
				</a>
      </li>
      
			
      
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="/docs/category/dev-ops/" >
          <span class="d-none d-lg-inline"><i class='fas fa-cogs'></i></span>
          <span>DevOps</span>
          
        </a>
			</li>
			
      
			<li class="dropdown sub-menu d-none d-lg-block">
				<a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <i class='fas fa-desktop'></i>
          <span>Computer</span>
				</a>
        <ul class="dropdown-menu">
					
					<a class="dropdown-item" href="/docs/category/computer/basic/">컴퓨터 기본 지식</a>
					
					<a class="dropdown-item" href="/docs/category/operating-system/">Operating System</a>
					
					<a class="dropdown-item" href="/docs/category/network/">Network</a>
					
				</ul>
			</li>
      <li class="d-lg-none">
        <a class="nav-link" href="/docs/category/computer/" role="button">
          <span>Computer</span>
				</a>
      </li>
      
			
      </ul>
  </div>
  <div class="d-none d-lg-block">
    <div class="td-search">
  <div class="td-search__icon"></div>
  <input type="search" class="td-search__input form-control td-search-input" placeholder="사이트에서 검색…" aria-label="사이트에서 검색…" autocomplete="off">
</div>

  </div>
</div>
</nav>
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            
  <script>
    $(function() {
    $("#td-section-nav a").removeClass("active");
    $("#td-section-nav #m-docsjunit5extension").addClass("active"); 
    $("#td-section-nav #m-docsjunit5extension-li span").addClass("td-sidebar-nav-active-item"); 
    $("#td-section-nav #m-docsjunit5extension").parents("li").addClass("active-path"); 
    $("#td-section-nav li.active-path").addClass("show"); 
    $("#td-section-nav li.active-path").children("input").prop('checked', true);
    $("#td-section-nav #m-docsjunit5extension-li").siblings("li").addClass("show");  
    $("#td-section-nav #m-docsjunit5extension-li").children("ul").children("li").addClass("show");  
    $("#td-sidebar-menu").toggleClass("d-none"); 
    });
  </script>
  <div id="td-sidebar-menu" class="td-sidebar__inner d-none">
  <form class="td-sidebar__search d-flex align-items-center">
    <div class="td-search">
  <div class="td-search__icon"></div>
  <input type="search" class="td-search__input form-control td-search-input" placeholder="사이트에서 검색…" aria-label="사이트에서 검색…" autocomplete="off">
</div>

    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type="button" data-bs-toggle="collapse" data-bs-target="#td-section-nav" aria-controls="td-section-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  <nav class="collapse td-sidebar-nav foldable-nav" id="td-section-nav">
    <ul class="td-sidebar-nav__section pe-md-3 ul-0">
      <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docscategoryprogrammingtesting-li">
  <a href="/docs/category/programming/testing/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id="m-docscategoryprogrammingtesting"><span class="">Software Testing</span></a>
  <ul class="ul-1">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docstesting-li">
  <input type="checkbox" id="m-docstesting-check"/>
  <label for="m-docstesting-check"><a href="/docs/testing/" class="align-left ps-0  td-sidebar-link td-sidebar-link__section" id="m-docstesting"><span class="">테스팅 이론</span></a></label>
  
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docstestingoverview-li">
  <input type="checkbox" id="m-docstestingoverview-check"/>
  <label for="m-docstestingoverview-check"><a href="/docs/testing/overview/" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docstestingoverview"><span class="">테스트 개요</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docstestingunit-li">
  <input type="checkbox" id="m-docstestingunit-check"/>
  <label for="m-docstestingunit-check"><a href="/docs/testing/unit/" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docstestingunit"><span class="">Unit Testing</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docstestingtdd-li">
  <input type="checkbox" id="m-docstestingtdd-check"/>
  <label for="m-docstestingtdd-check"><a href="/docs/testing/tdd/" title="TDD(Test Driven Development, 테스트 주도 개발)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docstestingtdd"><span class="">Test Driven Development</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docstestingbdd-li">
  <input type="checkbox" id="m-docstestingbdd-check"/>
  <label for="m-docstestingbdd-check"><a href="/docs/testing/bdd/" title="BDD(Behavior Driven Development, 행위 주도 개발)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docstestingbdd"><span class="">Behavior Driven Development</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docstestingfirst-li">
  <input type="checkbox" id="m-docstestingfirst-check"/>
  <label for="m-docstestingfirst-check"><a href="/docs/testing/first/" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docstestingfirst"><span class="">F.I.R.S.T 원칙</span></a></label>
  
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsjunit-li">
  <input type="checkbox" id="m-docsjunit-check"/>
  <label for="m-docsjunit-check"><a href="/docs/junit/" class="align-left ps-0  td-sidebar-link td-sidebar-link__section" id="m-docsjunit"><span class="">JUnit</span></a></label>
  
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsjunit5-li">
  <input type="checkbox" id="m-docsjunit5-check"/>
  <label for="m-docsjunit5-check"><a href="/docs/junit5/" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docsjunit5"><span class="">JUnit5 개요</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsjunit5hello-world-li">
  <input type="checkbox" id="m-docsjunit5hello-world-check"/>
  <label for="m-docsjunit5hello-world-check"><a href="/docs/junit5/hello-world/" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docsjunit5hello-world"><span class="">JUnit5 적용 방법</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsjunit5execute-li">
  <input type="checkbox" id="m-docsjunit5execute-check"/>
  <label for="m-docsjunit5execute-check"><a href="/docs/junit5/execute/" title="JUnit5 테스트 실행 방법 - ConsoleLauncher, Gradle" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docsjunit5execute"><span class="">JUnit5 테스트 실행 방법</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsjunit5test-li">
  <input type="checkbox" id="m-docsjunit5test-check"/>
  <label for="m-docsjunit5test-check"><a href="/docs/junit5/test/" title="JUnit5 기본 테스트 - @Test, @DisplayName, @Disabled" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docsjunit5test"><span class="">JUnit5 기본 테스트</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsjunit5lifecycle-li">
  <input type="checkbox" id="m-docsjunit5lifecycle-check"/>
  <label for="m-docsjunit5lifecycle-check"><a href="/docs/junit5/lifecycle/" title="JUnit5 라이프 사이클 - @BeforeAll, @BeforeEach, @AfterAll, @AfterEach" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docsjunit5lifecycle"><span class="">JUnit5 라이프 사이클</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsjunit5order-execution-li">
  <input type="checkbox" id="m-docsjunit5order-execution-check"/>
  <label for="m-docsjunit5order-execution-check"><a href="/docs/junit5/order-execution/" title="JUnit5 테스트 실행 순서 - 메소드(알파벳), @Order, 랜덤" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docsjunit5order-execution"><span class="">JUnit5 테스트 실행 순서</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsjunit5condition-li">
  <input type="checkbox" id="m-docsjunit5condition-check"/>
  <label for="m-docsjunit5condition-check"><a href="/docs/junit5/condition/" title="JUnit5 조건부 테스트 - @EnabledOnOs, @EnabledOnJre, @EnabledIfEnvironmentVariable" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docsjunit5condition"><span class="">JUnit5 조건부 테스트</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsjunit5tag-li">
  <input type="checkbox" id="m-docsjunit5tag-check"/>
  <label for="m-docsjunit5tag-check"><a href="/docs/junit5/tag/" title="JUnit5 태그 필터링 - @Tag" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docsjunit5tag"><span class="">JUnit5 태그 필터링</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsjunit5dynamic-test-li">
  <input type="checkbox" id="m-docsjunit5dynamic-test-check"/>
  <label for="m-docsjunit5dynamic-test-check"><a href="/docs/junit5/dynamic-test/" title="JUnit5 동적 테스트 - @TestFactory" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docsjunit5dynamic-test"><span class="">JUnit5 동적 테스트</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsjunit5repeated-test-li">
  <input type="checkbox" id="m-docsjunit5repeated-test-check"/>
  <label for="m-docsjunit5repeated-test-check"><a href="/docs/junit5/repeated-test/" title="JUnit5 테스트 코드 반복 - @RepeatedTest" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docsjunit5repeated-test"><span class="">JUnit5 테스트 코드 반복</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsjunit5parameterized-test-li">
  <input type="checkbox" id="m-docsjunit5parameterized-test-check"/>
  <label for="m-docsjunit5parameterized-test-check"><a href="/docs/junit5/parameterized-test/" title="JUnit5 파라미터화 테스트 - @ParameterizedTest" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docsjunit5parameterized-test"><span class="">JUnit5 파라미터화 테스트</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsjunit5parallel-li">
  <input type="checkbox" id="m-docsjunit5parallel-check"/>
  <label for="m-docsjunit5parallel-check"><a href="/docs/junit5/parallel/" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docsjunit5parallel"><span class="">JUnit5 병렬 실행</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsjunit5extension-li">
  <input type="checkbox" id="m-docsjunit5extension-check"/>
  <label for="m-docsjunit5extension-check"><a href="/docs/junit5/extension/" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docsjunit5extension"><span class="">JUnit5 확장 모델</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsjunit5meta-annotation-li">
  <input type="checkbox" id="m-docsjunit5meta-annotation-check"/>
  <label for="m-docsjunit5meta-annotation-check"><a href="/docs/junit5/meta-annotation/" title="JUnit5 메타 어노테이션(Meta Annotation)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docsjunit5meta-annotation"><span class="">JUnit5 메타 어노테이션</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsjunit5assertion-li">
  <input type="checkbox" id="m-docsjunit5assertion-check"/>
  <label for="m-docsjunit5assertion-check"><a href="/docs/junit5/assertion/" title="JUnit5 검증 - Assertion" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docsjunit5assertion"><span class="">JUnit5 검증</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsjunitprivate-method-test-li">
  <input type="checkbox" id="m-docsjunitprivate-method-test-check"/>
  <label for="m-docsjunitprivate-method-test-check"><a href="/docs/junit/private-method-test/" title="JUnit으로 private 메소드 테스트하는 방법" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docsjunitprivate-method-test"><span class="">private 메소드 테스트하는 방법</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsjunitmockito-li">
  <input type="checkbox" id="m-docsjunitmockito-check"/>
  <label for="m-docsjunitmockito-check"><a href="/docs/junit/mockito/" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docsjunitmockito"><span class="">Mockito 란?</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsmock-web-server-li">
  <input type="checkbox" id="m-docsmock-web-server-check"/>
  <label for="m-docsmock-web-server-check"><a href="/docs/mock-web-server/" title="WebClient 테스트 - MockWebServer를 이용해 외부API 호출 메서드 테스트" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docsmock-web-server"><span class="">WebClient 테스트</span></a></label>
  
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docskotest-li">
  <input type="checkbox" id="m-docskotest-check"/>
  <label for="m-docskotest-check"><a href="/docs/kotest/" title="코틀린 테스팅 프레임워크 - Kotest" class="align-left ps-0  td-sidebar-link td-sidebar-link__section" id="m-docskotest"><span class="">Kotest</span></a></label>
  
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docskotestframework-li">
  <input type="checkbox" id="m-docskotestframework-check"/>
  <label for="m-docskotestframework-check"><a href="/docs/kotest/framework/" title="Kotest 프레임워크(Framework)" class="align-left ps-0  td-sidebar-link td-sidebar-link__section" id="m-docskotestframework"><span class="">Framework</span></a></label>
  
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestframeworkoverview-li">
  <input type="checkbox" id="m-docskotestframeworkoverview-check"/>
  <label for="m-docskotestframeworkoverview-check"><a href="/docs/kotest/framework/overview/" title="Kotest 개요(overview)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestframeworkoverview"><span class="">Kotest 개요</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestframeworkproject-setup-li">
  <input type="checkbox" id="m-docskotestframeworkproject-setup-check"/>
  <label for="m-docskotestframeworkproject-setup-check"><a href="/docs/kotest/framework/project-setup/" title="Kotest 프로젝트 설정(Setup)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestframeworkproject-setup"><span class="">Kotest 프로젝트 설정</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestframeworkwriting-tests-li">
  <input type="checkbox" id="m-docskotestframeworkwriting-tests-check"/>
  <label for="m-docskotestframeworkwriting-tests-check"><a href="/docs/kotest/framework/writing-tests/" title="Kotest 기본 작성법(Writing tests)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestframeworkwriting-tests"><span class="">Kotest 기본 작성법</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestframeworktesting-styles-li">
  <input type="checkbox" id="m-docskotestframeworktesting-styles-check"/>
  <label for="m-docskotestframeworktesting-styles-check"><a href="/docs/kotest/framework/testing-styles/" title="Kotest 테스팅 스타일(Testing Styles)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestframeworktesting-styles"><span class="">Kotest 테스팅 스타일</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestframeworkconditional-li">
  <input type="checkbox" id="m-docskotestframeworkconditional-check"/>
  <label for="m-docskotestframeworkconditional-check"><a href="/docs/kotest/framework/conditional/" title="Kotest 조건부 테스트(Conditional evaluation)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestframeworkconditional"><span class="">Kotest 조건부 테스트</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestframeworkisolation-modes-li">
  <input type="checkbox" id="m-docskotestframeworkisolation-modes-check"/>
  <label for="m-docskotestframeworkisolation-modes-check"><a href="/docs/kotest/framework/isolation-modes/" title="Kotest 격리 모드(Isolation Modes)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestframeworkisolation-modes"><span class="">Kotest 격리 모드</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestframeworkextensions-li">
  <input type="checkbox" id="m-docskotestframeworkextensions-check"/>
  <label for="m-docskotestframeworkextensions-check"><a href="/docs/kotest/framework/extensions/" title="Kotest 기본 확장(Extensions)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestframeworkextensions"><span class="">Kotest 확장</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestframeworkcoroutines-li">
  <input type="checkbox" id="m-docskotestframeworkcoroutines-check"/>
  <label for="m-docskotestframeworkcoroutines-check"><a href="/docs/kotest/framework/coroutines/" title="Kotest 코루틴(Coroutines)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestframeworkcoroutines"><span class="">Kotest 코루틴</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestframeworkexceptions-li">
  <input type="checkbox" id="m-docskotestframeworkexceptions-check"/>
  <label for="m-docskotestframeworkexceptions-check"><a href="/docs/kotest/framework/exceptions/" title="Kotest 예외 테스트(Testing Exceptions)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestframeworkexceptions"><span class="">Kotest 예외 테스트</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestframeworkdata-driven-testing-li">
  <input type="checkbox" id="m-docskotestframeworkdata-driven-testing-check"/>
  <label for="m-docskotestframeworkdata-driven-testing-check"><a href="/docs/kotest/framework/data-driven-testing/" title="Kotest 데이터 기반 테스트(Data-Driven Testing)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestframeworkdata-driven-testing"><span class="">Kotest 데이터 기반 테스트</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestframeworknon-deterministic-testing-li">
  <input type="checkbox" id="m-docskotestframeworknon-deterministic-testing-check"/>
  <label for="m-docskotestframeworknon-deterministic-testing-check"><a href="/docs/kotest/framework/non-deterministic-testing/" title="Kotest 비결정적 테스트(Non-deterministic Testing)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestframeworknon-deterministic-testing"><span class="">Kotest 비결정적 테스트</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestframeworkintergrations-li">
  <input type="checkbox" id="m-docskotestframeworkintergrations-check"/>
  <label for="m-docskotestframeworkintergrations-check"><a href="/docs/kotest/framework/intergrations/" title="Kotest 통합(Intergrations)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestframeworkintergrations"><span class="">Kotest 통합</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestframeworkordering-li">
  <input type="checkbox" id="m-docskotestframeworkordering-check"/>
  <label for="m-docskotestframeworkordering-check"><a href="/docs/kotest/framework/ordering/" title="Kotest 테스트 순서 제어(Ordering)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestframeworkordering"><span class="">Kotest 테스트 순서 제어</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotesttags-li">
  <input type="checkbox" id="m-docskotesttags-check"/>
  <label for="m-docskotesttags-check"><a href="/docs/kotest/tags/" title="Kotest 태그를 사용하여 테스트 그룹화(Grouping Tests with Tags)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotesttags"><span class="">Kotest 테스팅 그룹화</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestframeworkresources-li">
  <input type="checkbox" id="m-docskotestframeworkresources-check"/>
  <label for="m-docskotestframeworkresources-check"><a href="/docs/kotest/framework/resources/" title="Kotest 자원(Resources)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestframeworkresources"><span class="">Kotest 자원</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestframeworkconfiguration-li">
  <input type="checkbox" id="m-docskotestframeworkconfiguration-check"/>
  <label for="m-docskotestframeworkconfiguration-check"><a href="/docs/kotest/framework/configuration/" title="Kotest 구성(Configuration)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestframeworkconfiguration"><span class="">Kotest 구성</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestframeworktest-factories-li">
  <input type="checkbox" id="m-docskotestframeworktest-factories-check"/>
  <label for="m-docskotestframeworktest-factories-check"><a href="/docs/kotest/framework/test-factories/" title="Kotest 테스트 팩토리(Test Factories)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestframeworktest-factories"><span class="">Kotest 테스트 팩토리</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestframeworktest-output-li">
  <input type="checkbox" id="m-docskotestframeworktest-output-check"/>
  <label for="m-docskotestframeworktest-output-check"><a href="/docs/kotest/framework/test-output/" title="Kotest 테스트 출력(Test Output)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestframeworktest-output"><span class="">Kotest 테스트 출력</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestframeworktimeouts-li">
  <input type="checkbox" id="m-docskotestframeworktimeouts-check"/>
  <label for="m-docskotestframeworktimeouts-check"><a href="/docs/kotest/framework/timeouts/" title="Kotest 타임아웃(timeouts)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestframeworktimeouts"><span class="">Kotest 타임아웃</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestframeworkother-settings-li">
  <input type="checkbox" id="m-docskotestframeworkother-settings-check"/>
  <label for="m-docskotestframeworkother-settings-check"><a href="/docs/kotest/framework/other-settings/" title="Kotest 다른 설정(Other settings)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestframeworkother-settings"><span class="">Kotest 다른 설정</span></a></label>
  
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docskotestextensions-li">
  <input type="checkbox" id="m-docskotestextensions-check"/>
  <label for="m-docskotestextensions-check"><a href="/docs/kotest/extensions/" title="Kotest 확장(Extensions)" class="align-left ps-0  td-sidebar-link td-sidebar-link__section" id="m-docskotestextensions"><span class="">Extensions</span></a></label>
  
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestextensionsintroduction-li">
  <input type="checkbox" id="m-docskotestextensionsintroduction-check"/>
  <label for="m-docskotestextensionsintroduction-check"><a href="/docs/kotest/extensions/introduction/" title="Kotest 외부 확장(Extensions)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestextensionsintroduction"><span class="">Kotest 외부 확장</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestextensionsspring-li">
  <input type="checkbox" id="m-docskotestextensionsspring-check"/>
  <label for="m-docskotestextensionsspring-check"><a href="/docs/kotest/extensions/spring/" title="Kotest Spring 확장(SpringExtension)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestextensionsspring"><span class="">Kotest Spring 확장</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestextensionsktor-li">
  <input type="checkbox" id="m-docskotestextensionsktor-check"/>
  <label for="m-docskotestextensionsktor-check"><a href="/docs/kotest/extensions/ktor/" title="Kotest Ktor 확장" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestextensionsktor"><span class="">Kotest Ktor</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestextensionssystem-extensions-li">
  <input type="checkbox" id="m-docskotestextensionssystem-extensions-check"/>
  <label for="m-docskotestextensionssystem-extensions-check"><a href="/docs/kotest/extensions/system-extensions/" title="Kotest 시스템 확장(System Extensions)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestextensionssystem-extensions"><span class="">Kotest 시스템 확장</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotesttestcontainers-li">
  <input type="checkbox" id="m-docskotesttestcontainers-check"/>
  <label for="m-docskotesttestcontainers-check"><a href="/docs/kotest/testcontainers/" title="Kotest 테스트 컨테이너(Testcontainers) 확장" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotesttestcontainers"><span class="">Kotest 테스트 컨테이너</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestextensionsembedded-kafka-li">
  <input type="checkbox" id="m-docskotestextensionsembedded-kafka-check"/>
  <label for="m-docskotestextensionsembedded-kafka-check"><a href="/docs/kotest/extensions/embedded-kafka/" title="Kotest Kafka (EmbeddedKafkaListener) 확장" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestextensionsembedded-kafka"><span class="">Kotest Kafka</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestextensionsmockserver-li">
  <input type="checkbox" id="m-docskotestextensionsmockserver-check"/>
  <label for="m-docskotestextensionsmockserver-check"><a href="/docs/kotest/extensions/mockserver/" title="Kotest 모의 서버(MockServer)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestextensionsmockserver"><span class="">Kotest 모의 서버</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestextensionsjunit-xml-li">
  <input type="checkbox" id="m-docskotestextensionsjunit-xml-check"/>
  <label for="m-docskotestextensionsjunit-xml-check"><a href="/docs/kotest/extensions/junit-xml/" title="Kotest JUnit XML Format Reporter" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestextensionsjunit-xml"><span class="">Kotest JUnit XML</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestextensionshtml-reporter-li">
  <input type="checkbox" id="m-docskotestextensionshtml-reporter-check"/>
  <label for="m-docskotestextensionshtml-reporter-check"><a href="/docs/kotest/extensions/html-reporter/" title="Kotest HTML 보고서(Reporter)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestextensionshtml-reporter"><span class="">Kotest HTML 보고서</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestextensionsallure-li">
  <input type="checkbox" id="m-docskotestextensionsallure-check"/>
  <label for="m-docskotestextensionsallure-check"><a href="/docs/kotest/extensions/allure/" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestextensionsallure"><span class="">Kotest Allure 확장</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestextensionsinstant-li">
  <input type="checkbox" id="m-docskotestextensionsinstant-check"/>
  <label for="m-docskotestextensionsinstant-check"><a href="/docs/kotest/extensions/instant/" title="Kotest 현재시간 인스턴트 리스너(Current Instant Listeners) 확장" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestextensionsinstant"><span class="">Kotest 현재시간 인스턴트 리스너</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestextensionskoin-li">
  <input type="checkbox" id="m-docskotestextensionskoin-check"/>
  <label for="m-docskotestextensionskoin-check"><a href="/docs/kotest/extensions/koin/" title="Kotest Koin 확장" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestextensionskoin"><span class="">Kotest Koin</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestextensionswiremock-li">
  <input type="checkbox" id="m-docskotestextensionswiremock-check"/>
  <label for="m-docskotestextensionswiremock-check"><a href="/docs/kotest/extensions/wiremock/" title="Kotest WireMock 확장" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestextensionswiremock"><span class="">Kotest WireMock</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestextensionstest-clock-li">
  <input type="checkbox" id="m-docskotestextensionstest-clock-check"/>
  <label for="m-docskotestextensionstest-clock-check"><a href="/docs/kotest/extensions/test-clock/" title="Kotest Test Clock 확장" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestextensionstest-clock"><span class="">Kotest Test Clock</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestextensionspitest-li">
  <input type="checkbox" id="m-docskotestextensionspitest-check"/>
  <label for="m-docskotestextensionspitest-check"><a href="/docs/kotest/extensions/pitest/" title="Kotest Pitest 확장" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestextensionspitest"><span class="">Kotest Pitest</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestextensionsblockhound-li">
  <input type="checkbox" id="m-docskotestextensionsblockhound-check"/>
  <label for="m-docskotestextensionsblockhound-check"><a href="/docs/kotest/extensions/blockhound/" title="Kotest BlockHound 확장" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestextensionsblockhound"><span class="">Kotest BlockHound</span></a></label>
  
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docskotestassertions-li">
  <input type="checkbox" id="m-docskotestassertions-check"/>
  <label for="m-docskotestassertions-check"><a href="/docs/kotest/assertions/" title="Kotest 단언문(Assertions)" class="align-left ps-0  td-sidebar-link td-sidebar-link__section" id="m-docskotestassertions"><span class="">Assertions</span></a></label>
  
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestassertionsoverview-li">
  <input type="checkbox" id="m-docskotestassertionsoverview-check"/>
  <label for="m-docskotestassertionsoverview-check"><a href="/docs/kotest/assertions/overview/" title="Kotest 테스트 검증 단언문(Assertions)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestassertionsoverview"><span class="">Kotest 단언문</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestassertionscustom-matchers-li">
  <input type="checkbox" id="m-docskotestassertionscustom-matchers-check"/>
  <label for="m-docskotestassertionscustom-matchers-check"><a href="/docs/kotest/assertions/custom-matchers/" title="Kotest 사용자 정의 매처(Custom Matchers)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestassertionscustom-matchers"><span class="">Kotest 사용자 정의 매처</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestassertionsclues-li">
  <input type="checkbox" id="m-docskotestassertionsclues-check"/>
  <label for="m-docskotestassertionsclues-check"><a href="/docs/kotest/assertions/clues/" title="Kotest 단서(Clues)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestassertionsclues"><span class="">Kotest 단서</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestassertionsexceptions-li">
  <input type="checkbox" id="m-docskotestassertionsexceptions-check"/>
  <label for="m-docskotestassertionsexceptions-check"><a href="/docs/kotest/assertions/exceptions/" title="Kotest 예외(Exceptions)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestassertionsexceptions"><span class="">Kotest 예외</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestassertionssoft-assertions-li">
  <input type="checkbox" id="m-docskotestassertionssoft-assertions-check"/>
  <label for="m-docskotestassertionssoft-assertions-check"><a href="/docs/kotest/assertions/soft-assertions/" title="Kotest 소프트 단어문(Soft Assertions)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestassertionssoft-assertions"><span class="">Kotest 소프트 단어문</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestassertionsinspectors-li">
  <input type="checkbox" id="m-docskotestassertionsinspectors-check"/>
  <label for="m-docskotestassertionsinspectors-check"><a href="/docs/kotest/assertions/inspectors/" title="Kotest 인스펙터(Inspectors)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestassertionsinspectors"><span class="">Kotest 인스펙터</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestassertionsassertion-mode-li">
  <input type="checkbox" id="m-docskotestassertionsassertion-mode-check"/>
  <label for="m-docskotestassertionsassertion-mode-check"><a href="/docs/kotest/assertions/assertion-mode/" title="Kotest 단언문 모드(Assertion Mode)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestassertionsassertion-mode"><span class="">Kotest 단언문 모드</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestassertionscore-matchers-li">
  <input type="checkbox" id="m-docskotestassertionscore-matchers-check"/>
  <label for="m-docskotestassertionscore-matchers-check"><a href="/docs/kotest/assertions/core-matchers/" title="Kotest 코어 매처(Core Matchers)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestassertionscore-matchers"><span class="">Kotest 코어 매처</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestassertionscollection-matchers-li">
  <input type="checkbox" id="m-docskotestassertionscollection-matchers-check"/>
  <label for="m-docskotestassertionscollection-matchers-check"><a href="/docs/kotest/assertions/collection-matchers/" title="Kotest 콜렉션 매처(Collection Matchers)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestassertionscollection-matchers"><span class="">Kotest 콜렉션 매처</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestassertionsjson-matchers-li">
  <input type="checkbox" id="m-docskotestassertionsjson-matchers-check"/>
  <label for="m-docskotestassertionsjson-matchers-check"><a href="/docs/kotest/assertions/json-matchers/" title="Kotest JSON 매처(JSON Matchers)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestassertionsjson-matchers"><span class="">Kotest JSON 매처</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestassertionsktor-matchers-li">
  <input type="checkbox" id="m-docskotestassertionsktor-matchers-check"/>
  <label for="m-docskotestassertionsktor-matchers-check"><a href="/docs/kotest/assertions/ktor-matchers/" title="Kotest Ktor 매처(Ktor Matchers)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestassertionsktor-matchers"><span class="">Kotest Ktor 매처</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestassertionskotlinx-datetime-matchers-li">
  <input type="checkbox" id="m-docskotestassertionskotlinx-datetime-matchers-check"/>
  <label for="m-docskotestassertionskotlinx-datetime-matchers-check"><a href="/docs/kotest/assertions/kotlinx-datetime-matchers/" title="Kotest Kotlinx Datetime 매처(Kotlinx Datetime Matchers)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestassertionskotlinx-datetime-matchers"><span class="">Kotest Kotlinx Datetime 매처</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestassertionsallow-li">
  <input type="checkbox" id="m-docskotestassertionsallow-check"/>
  <label for="m-docskotestassertionsallow-check"><a href="/docs/kotest/assertions/allow/" title="Kotest Arrow 매처(Arrow Matchers)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestassertionsallow"><span class="">Kotest Arrow 매처</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestassertionskonform-matchers-li">
  <input type="checkbox" id="m-docskotestassertionskonform-matchers-check"/>
  <label for="m-docskotestassertionskonform-matchers-check"><a href="/docs/kotest/assertions/konform-matchers/" title="Kotest Konform 매처(Konform Matchers)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestassertionskonform-matchers"><span class="">Kotest Konform 매처</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestassertionsklock-matchers-li">
  <input type="checkbox" id="m-docskotestassertionsklock-matchers-check"/>
  <label for="m-docskotestassertionsklock-matchers-check"><a href="/docs/kotest/assertions/klock-matchers/" title="Kotest Klock 매처(Klock Matchers)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestassertionsklock-matchers"><span class="">Kotest Klock 매처</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestassertionscompiler-matchers-li">
  <input type="checkbox" id="m-docskotestassertionscompiler-matchers-check"/>
  <label for="m-docskotestassertionscompiler-matchers-check"><a href="/docs/kotest/assertions/compiler-matchers/" title="Kotest 컴파일러 매처(Compiler Matchers)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestassertionscompiler-matchers"><span class="">Kotest 컴파일러 매처</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestassertionsjsoup-matchers-li">
  <input type="checkbox" id="m-docskotestassertionsjsoup-matchers-check"/>
  <label for="m-docskotestassertionsjsoup-matchers-check"><a href="/docs/kotest/assertions/jsoup-matchers/" title="Kotest Jsoup 매처(Jsoup Matchers)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestassertionsjsoup-matchers"><span class="">Kotest Jsoup 매처</span></a></label>
  
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docskotestproptest-li">
  <input type="checkbox" id="m-docskotestproptest-check"/>
  <label for="m-docskotestproptest-check"><a href="/docs/kotest/proptest/" title="Kotest 프로퍼티 테스팅(Property Testing)" class="align-left ps-0  td-sidebar-link td-sidebar-link__section" id="m-docskotestproptest"><span class="">Property Testing</span></a></label>
  
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestproptestintroduction-li">
  <input type="checkbox" id="m-docskotestproptestintroduction-check"/>
  <label for="m-docskotestproptestintroduction-check"><a href="/docs/kotest/proptest/introduction/" title="Kotest 프로퍼티 기반 테스트(Property-based Testing)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestproptestintroduction"><span class="">Kotest 프로퍼티 테스팅</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestproptesttest-functions-li">
  <input type="checkbox" id="m-docskotestproptesttest-functions-check"/>
  <label for="m-docskotestproptesttest-functions-check"><a href="/docs/kotest/proptest/test-functions/" title="Kotest 프로퍼티 테스트 함수(Property Test Functions)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestproptesttest-functions"><span class="">Kotest 프로퍼티 테스트 함수</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestproptestgenerators-li">
  <input type="checkbox" id="m-docskotestproptestgenerators-check"/>
  <label for="m-docskotestproptestgenerators-check"><a href="/docs/kotest/proptest/generators/" title="Kotest 제너레이터(Generators)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestproptestgenerators"><span class="">Kotest 제너레이터</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestproptestgenerators-list-li">
  <input type="checkbox" id="m-docskotestproptestgenerators-list-check"/>
  <label for="m-docskotestproptestgenerators-list-check"><a href="/docs/kotest/proptest/generators-list/" title="Kotest 제너레이터 목록(Generators List)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestproptestgenerators-list"><span class="">Kotest 제너레이터 목록</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestproptestgenerator-operations-li">
  <input type="checkbox" id="m-docskotestproptestgenerator-operations-check"/>
  <label for="m-docskotestproptestgenerator-operations-check"><a href="/docs/kotest/proptest/generator-operations/" title="Kotest 제너레이터 연산(Generator Operations)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestproptestgenerator-operations"><span class="">Kotest 제너레이터 명령</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestproptestseeds-li">
  <input type="checkbox" id="m-docskotestproptestseeds-check"/>
  <label for="m-docskotestproptestseeds-check"><a href="/docs/kotest/proptest/seeds/" title="Kotest 시드(Seeds)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestproptestseeds"><span class="">Kotest 시드</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestproptestconfiguration-li">
  <input type="checkbox" id="m-docskotestproptestconfiguration-check"/>
  <label for="m-docskotestproptestconfiguration-check"><a href="/docs/kotest/proptest/configuration/" title="Kotest 구성(Configuration)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestproptestconfiguration"><span class="">Kotest 구성</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestproptestshrinking-li">
  <input type="checkbox" id="m-docskotestproptestshrinking-check"/>
  <label for="m-docskotestproptestshrinking-check"><a href="/docs/kotest/proptest/shrinking/" title="Kotest 축소(Shrinking)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestproptestshrinking"><span class="">Kotest 축소</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestpropteststatistics-li">
  <input type="checkbox" id="m-docskotestpropteststatistics-check"/>
  <label for="m-docskotestpropteststatistics-check"><a href="/docs/kotest/proptest/statistics/" title="Kotest 통계(Statistics)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestpropteststatistics"><span class="">Kotest 통계</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestproptestglobal-configuration-li">
  <input type="checkbox" id="m-docskotestproptestglobal-configuration-check"/>
  <label for="m-docskotestproptestglobal-configuration-check"><a href="/docs/kotest/proptest/global-configuration/" title="Kotest 글로벌 설정(Global Configuration)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestproptestglobal-configuration"><span class="">Kotest 글로벌 설정</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestproptestarrow-generators-li">
  <input type="checkbox" id="m-docskotestproptestarrow-generators-check"/>
  <label for="m-docskotestproptestarrow-generators-check"><a href="/docs/kotest/proptest/arrow-generators/" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestproptestarrow-generators"><span class="">Kotest Arrow Generators</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestproptestkotlinx-datetime-gens-li">
  <input type="checkbox" id="m-docskotestproptestkotlinx-datetime-gens-check"/>
  <label for="m-docskotestproptestkotlinx-datetime-gens-check"><a href="/docs/kotest/proptest/kotlinx-datetime-gens/" title="Kotest Kotlinx DateTime Gens" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestproptestkotlinx-datetime-gens"><span class="">Kotest Kotlinx DateTime</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestproptestextra-arbs-li">
  <input type="checkbox" id="m-docskotestproptestextra-arbs-check"/>
  <label for="m-docskotestproptestextra-arbs-check"><a href="/docs/kotest/proptest/extra-arbs/" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestproptestextra-arbs"><span class="">Kotest Extra Arbs</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestproptestreflective-arbs-li">
  <input type="checkbox" id="m-docskotestproptestreflective-arbs-check"/>
  <label for="m-docskotestproptestreflective-arbs-check"><a href="/docs/kotest/proptest/reflective-arbs/" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestproptestreflective-arbs"><span class="">Kotest Reflective Arbs</span></a></label>
  
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docskotestintellij-plugin-li">
  <input type="checkbox" id="m-docskotestintellij-plugin-check"/>
  <label for="m-docskotestintellij-plugin-check"><a href="/docs/kotest/intellij-plugin/" title="Kotest 인텔리제이 플러그인(Intellij Plugin)" class="align-left ps-0  td-sidebar-link td-sidebar-link__section" id="m-docskotestintellij-plugin"><span class="">Intellij Plugin</span></a></label>
  
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestintellij-pluginintroduction-li">
  <input type="checkbox" id="m-docskotestintellij-pluginintroduction-check"/>
  <label for="m-docskotestintellij-pluginintroduction-check"><a href="/docs/kotest/intellij-plugin/introduction/" title="Kotest Intellij Plugin 소개" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestintellij-pluginintroduction"><span class="">Intellij Plugin</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestintellij-plugintest-explorer-li">
  <input type="checkbox" id="m-docskotestintellij-plugintest-explorer-check"/>
  <label for="m-docskotestintellij-plugintest-explorer-check"><a href="/docs/kotest/intellij-plugin/test-explorer/" title="Kotest Intellij Plugin 테스트 탐색기(Test Explorer)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestintellij-plugintest-explorer"><span class="">Intellij Plugin 테스트 탐색기</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotestintellij-pluginproperties-li">
  <input type="checkbox" id="m-docskotestintellij-pluginproperties-check"/>
  <label for="m-docskotestintellij-pluginproperties-check"><a href="/docs/kotest/intellij-plugin/properties/" title="Kotest Intellij Plugin 속성(Properties)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotestintellij-pluginproperties"><span class="">Intellij Plugin 속성</span></a></label>
  
</li>
  </ul>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsmockk-li">
  <input type="checkbox" id="m-docsmockk-check"/>
  <label for="m-docsmockk-check"><a href="/docs/mockk/" class="align-left ps-0  td-sidebar-link td-sidebar-link__section" id="m-docsmockk"><span class="">MockK</span></a></label>
  
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docskotlinmockk-li">
  <input type="checkbox" id="m-docskotlinmockk-check"/>
  <label for="m-docskotlinmockk-check"><a href="/docs/kotlin/mockk/" title="Kotlin MockK 사용법 (공식 문서 번역)" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docskotlinmockk"><span class="">MockK 사용법</span></a></label>
  
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docstestcontainers-li">
  <input type="checkbox" id="m-docstestcontainers-check"/>
  <label for="m-docstestcontainers-check"><a href="/docs/testcontainers/" class="align-left ps-0  td-sidebar-link td-sidebar-link__section" id="m-docstestcontainers"><span class="">Testcontainers</span></a></label>
  
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docstestcontainersoverview-li">
  <input type="checkbox" id="m-docstestcontainersoverview-check"/>
  <label for="m-docstestcontainersoverview-check"><a href="/docs/testcontainers/overview/" title="Testcontainers에 대해 소개" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docstestcontainersoverview"><span class="">Testcontainers 소개</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docstestcontainerscolima-macos-m1-li">
  <input type="checkbox" id="m-docstestcontainerscolima-macos-m1-check"/>
  <label for="m-docstestcontainerscolima-macos-m1-check"><a href="/docs/testcontainers/colima-macos-m1/" title="Apple M1 칩셋의 macOS 환경에서 Colima 활용하여 Testcontainers 실행하는 방법" class="align-left ps-0  td-sidebar-link td-sidebar-link__page" id="m-docstestcontainerscolima-macos-m1"><span class="">macOS 환경에서 실행</span></a></label>
  
</li>
  </ul>
</li>
  </ul>
</li>
    </ul>
  </nav>
</div>


          </aside>
          <aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
            
<div class="td-page-meta ms-2 pb-1 pt-2 mb-0">

</div>

            <div class="td-toc">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#확장-모델">확장 모델</a></li>
    <li><a href="#기본-확장-모델">기본 확장 모델</a></li>
    <li><a href="#확장-포인트">확장 포인트</a></li>
    <li><a href="#지원-클래스">지원 클래스</a></li>
    <li><a href="#테스트-실행-조건-제어">테스트 실행 조건 제어</a></li>
    <li><a href="#테스트-인스턴스-생성">테스트 인스턴스 생성</a></li>
    <li><a href="#테스트-인스턴스-생성-후-초기화-처리">테스트 인스턴스 생성 후 초기화 처리</a></li>
    <li><a href="#매개변수-해결">매개변수 해결</a></li>
    <li><a href="#라이프사이클에-따른-처리">라이프사이클에 따른 처리</a></li>
    <li><a href="#테스트-결과에-맞는-처리-수행">테스트 결과에 맞는 처리 수행</a></li>
    <li><a href="#테스트에서-발생한-예외-처리">테스트에서 발생한 예외 처리</a></li>
    <li><a href="#라이프-사이클-메서드에서-throw된-예외-처리">라이프 사이클 메서드에서 throw된 예외 처리</a></li>
    <li><a href="#동일한-테스트를-다른-컨텍스트에서-실행">동일한 테스트를 다른 컨텍스트에서 실행</a>
      <ul>
        <li><a href="#컨텍스트에서-표시-이름-지정">컨텍스트에서 표시 이름 지정</a></li>
        <li><a href="#컨텍스트마다-임의의-확장-추가">컨텍스트마다 임의의 확장 추가</a></li>
      </ul>
    </li>
    <li><a href="#확장-기능을-절차적으로-등록">확장 기능을 절차적으로 등록</a></li>
    <li><a href="#serviceloader를-사용하여-자동으로-등록">ServiceLoader를 사용하여 자동으로 등록</a></li>
    <li><a href="#extension간에-데이터-공유">Extension간에 데이터 공유</a>
      <ul>
        <li><a href="#store-사용">Store 사용</a></li>
        <li><a href="#store-라이프사이클-및-키-검색-방법">Store 라이프사이클 및 키 검색 방법</a></li>
        <li><a href="#수명-주기-종료-시-처리-수행">수명 주기 종료 시 처리 수행</a></li>
      </ul>
    </li>
  </ul>
</nav>
      </div>
    
            <div class="taxonomy taxonomy-terms-cloud taxo-tags">
      <h5 class="taxonomy-title">Tags</h5>
      <ul class="taxonomy-terms">
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/algorithm/" data-taxonomy-term="algorithm"><span class="taxonomy-label">Algorithm</span><span class="taxonomy-count">61</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/android/" data-taxonomy-term="android"><span class="taxonomy-label">android</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/angular/" data-taxonomy-term="angular"><span class="taxonomy-label">Angular</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/angular2/" data-taxonomy-term="angular2"><span class="taxonomy-label">Angular2</span><span class="taxonomy-count">3</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/angularjs/" data-taxonomy-term="angularjs"><span class="taxonomy-label">AngularJS</span><span class="taxonomy-count">6</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/apache/" data-taxonomy-term="apache"><span class="taxonomy-label">Apache</span><span class="taxonomy-count">51</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/apache-hadoop/" data-taxonomy-term="apache-hadoop"><span class="taxonomy-label">Apache Hadoop</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/apache-kafka/" data-taxonomy-term="apache-kafka"><span class="taxonomy-label">Apache Kafka</span><span class="taxonomy-count">6</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/apache-spark/" data-taxonomy-term="apache-spark"><span class="taxonomy-label">Apache Spark</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/apache-thrift/" data-taxonomy-term="apache-thrift"><span class="taxonomy-label">Apache Thrift</span><span class="taxonomy-count">4</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/apache-zookeeper/" data-taxonomy-term="apache-zookeeper"><span class="taxonomy-label">Apache ZooKeeper</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/architecture/" data-taxonomy-term="architecture"><span class="taxonomy-label">Architecture</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/aws/" data-taxonomy-term="aws"><span class="taxonomy-label">AWS</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/bdd/" data-taxonomy-term="bdd"><span class="taxonomy-label">BDD</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/bigdata/" data-taxonomy-term="bigdata"><span class="taxonomy-label">BigData</span><span class="taxonomy-count">7</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/blog/" data-taxonomy-term="blog"><span class="taxonomy-label">Blog</span><span class="taxonomy-count">24</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/bootstrap/" data-taxonomy-term="bootstrap"><span class="taxonomy-label">Bootstrap</span><span class="taxonomy-count">10</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/bug/" data-taxonomy-term="bug"><span class="taxonomy-label">Bug</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/build/" data-taxonomy-term="build"><span class="taxonomy-label">Build</span><span class="taxonomy-count">42</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/c/" data-taxonomy-term="c"><span class="taxonomy-label">C</span><span class="taxonomy-count">86</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/cache/" data-taxonomy-term="cache"><span class="taxonomy-label">Cache</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/caffeine/" data-taxonomy-term="caffeine"><span class="taxonomy-label">Caffeine</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/calibre/" data-taxonomy-term="calibre"><span class="taxonomy-label">Calibre</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/cassandra/" data-taxonomy-term="cassandra"><span class="taxonomy-label">Cassandra</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/cdn/" data-taxonomy-term="cdn"><span class="taxonomy-label">CDN</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/centos/" data-taxonomy-term="centos"><span class="taxonomy-label">CentOS</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/cerebro/" data-taxonomy-term="cerebro"><span class="taxonomy-label">Cerebro</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/ci/" data-taxonomy-term="ci"><span class="taxonomy-label">CI</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/ci/" data-taxonomy-term="ci"><span class="taxonomy-label">CI</span><span class="taxonomy-count">4</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/cloud/" data-taxonomy-term="cloud"><span class="taxonomy-label">Cloud</span><span class="taxonomy-count">3</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/cloud-native/" data-taxonomy-term="cloud-native"><span class="taxonomy-label">Cloud Native</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/code/" data-taxonomy-term="code"><span class="taxonomy-label">Code</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/computer/" data-taxonomy-term="computer"><span class="taxonomy-label">Computer</span><span class="taxonomy-count">5</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/cors/" data-taxonomy-term="cors"><span class="taxonomy-label">CORS</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/css/" data-taxonomy-term="css"><span class="taxonomy-label">CSS</span><span class="taxonomy-count">69</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/d3/" data-taxonomy-term="d3"><span class="taxonomy-label">D3</span><span class="taxonomy-count">18</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/d3.js/" data-taxonomy-term="d3.js"><span class="taxonomy-label">D3.js</span><span class="taxonomy-count">21</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/data/" data-taxonomy-term="data"><span class="taxonomy-label">Data</span><span class="taxonomy-count">11</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/data-structure/" data-taxonomy-term="data-structure"><span class="taxonomy-label">Data Structure</span><span class="taxonomy-count">3</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/database/" data-taxonomy-term="database"><span class="taxonomy-label">Database</span><span class="taxonomy-count">297</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/ddd/" data-taxonomy-term="ddd"><span class="taxonomy-label">DDD</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/design-pattern/" data-taxonomy-term="design-pattern"><span class="taxonomy-label">Design Pattern</span><span class="taxonomy-count">24</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/devops/" data-taxonomy-term="devops"><span class="taxonomy-label">DevOps</span><span class="taxonomy-count">6</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/dns/" data-taxonomy-term="dns"><span class="taxonomy-label">DNS</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/docker/" data-taxonomy-term="docker"><span class="taxonomy-label">Docker</span><span class="taxonomy-count">28</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/docusaurus/" data-taxonomy-term="docusaurus"><span class="taxonomy-label">Docusaurus</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/dto/" data-taxonomy-term="dto"><span class="taxonomy-label">dto</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/e-book/" data-taxonomy-term="e-book"><span class="taxonomy-label">e-Book</span><span class="taxonomy-count">8</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/e-mail/" data-taxonomy-term="e-mail"><span class="taxonomy-label">E-Mail</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/eclipse/" data-taxonomy-term="eclipse"><span class="taxonomy-label">Eclipse</span><span class="taxonomy-count">3</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/effective-java/" data-taxonomy-term="effective-java"><span class="taxonomy-label">Effective Java</span><span class="taxonomy-count">4</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/elasticsearch/" data-taxonomy-term="elasticsearch"><span class="taxonomy-label">Elasticsearch</span><span class="taxonomy-count">7</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/elastisearch/" data-taxonomy-term="elastisearch"><span class="taxonomy-label">Elastisearch</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/entity/" data-taxonomy-term="entity"><span class="taxonomy-label">entity</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/epub/" data-taxonomy-term="epub"><span class="taxonomy-label">ePub</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/etym/" data-taxonomy-term="etym"><span class="taxonomy-label">ETYM</span><span class="taxonomy-count">6</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/excel/" data-taxonomy-term="excel"><span class="taxonomy-label">Excel</span><span class="taxonomy-count">4</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/flutter/" data-taxonomy-term="flutter"><span class="taxonomy-label">Flutter</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/ftp/" data-taxonomy-term="ftp"><span class="taxonomy-label">FTP</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/game/" data-taxonomy-term="game"><span class="taxonomy-label">Game</span><span class="taxonomy-count">3</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/garbage-collection/" data-taxonomy-term="garbage-collection"><span class="taxonomy-label">Garbage collection</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/gcp/" data-taxonomy-term="gcp"><span class="taxonomy-label">GCP</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/git/" data-taxonomy-term="git"><span class="taxonomy-label">Git</span><span class="taxonomy-count">46</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/github/" data-taxonomy-term="github"><span class="taxonomy-label">GitHub</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/gitops/" data-taxonomy-term="gitops"><span class="taxonomy-label">GitOps</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/go/" data-taxonomy-term="go"><span class="taxonomy-label">Go</span><span class="taxonomy-count">20</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/gradle/" data-taxonomy-term="gradle"><span class="taxonomy-label">Gradle</span><span class="taxonomy-count">13</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/grafana/" data-taxonomy-term="grafana"><span class="taxonomy-label">Grafana</span><span class="taxonomy-count">5</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/graph-database/" data-taxonomy-term="graph-database"><span class="taxonomy-label">Graph Database</span><span class="taxonomy-count">12</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/graphql/" data-taxonomy-term="graphql"><span class="taxonomy-label">GraphQL</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/gremlin/" data-taxonomy-term="gremlin"><span class="taxonomy-label">Gremlin</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/guava/" data-taxonomy-term="guava"><span class="taxonomy-label">Guava</span><span class="taxonomy-count">5</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/gulp/" data-taxonomy-term="gulp"><span class="taxonomy-label">gulp</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/handlebars/" data-taxonomy-term="handlebars"><span class="taxonomy-label">Handlebars</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/harbor/" data-taxonomy-term="harbor"><span class="taxonomy-label">Harbor</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/hbase/" data-taxonomy-term="hbase"><span class="taxonomy-label">HBase</span><span class="taxonomy-count">12</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/helm/" data-taxonomy-term="helm"><span class="taxonomy-label">Helm</span><span class="taxonomy-count">6</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/html/" data-taxonomy-term="html"><span class="taxonomy-label">HTML</span><span class="taxonomy-count">65</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/http/" data-taxonomy-term="http"><span class="taxonomy-label">HTTP</span><span class="taxonomy-count">8</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/hugo/" data-taxonomy-term="hugo"><span class="taxonomy-label">Hugo</span><span class="taxonomy-count">22</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/hyper-v/" data-taxonomy-term="hyper-v"><span class="taxonomy-label">Hyper-V</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/ide/" data-taxonomy-term="ide"><span class="taxonomy-label">IDE</span><span class="taxonomy-count">8</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/influxdb/" data-taxonomy-term="influxdb"><span class="taxonomy-label">InfluxDB</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/intellij/" data-taxonomy-term="intellij"><span class="taxonomy-label">Intellij</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/internet/" data-taxonomy-term="internet"><span class="taxonomy-label">Internet</span><span class="taxonomy-count">6</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/ip/" data-taxonomy-term="ip"><span class="taxonomy-label">IP</span><span class="taxonomy-count">3</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/it-%EC%9A%A9%EC%96%B4/" data-taxonomy-term="it-%EC%9A%A9%EC%96%B4"><span class="taxonomy-label">IT 용어</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/java/" data-taxonomy-term="java"><span class="taxonomy-label">Java</span><span class="taxonomy-count">438</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/javadoc/" data-taxonomy-term="javadoc"><span class="taxonomy-label">Javadoc</span><span class="taxonomy-count">5</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/javafx/" data-taxonomy-term="javafx"><span class="taxonomy-label">JavaFX</span><span class="taxonomy-count">12</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/javascript/" data-taxonomy-term="javascript"><span class="taxonomy-label">JavaScript</span><span class="taxonomy-count">205</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/jenkins/" data-taxonomy-term="jenkins"><span class="taxonomy-label">Jenkins</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/jpa/" data-taxonomy-term="jpa"><span class="taxonomy-label">JPA</span><span class="taxonomy-count">6</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/jquery/" data-taxonomy-term="jquery"><span class="taxonomy-label">jQuery</span><span class="taxonomy-count">53</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/json/" data-taxonomy-term="json"><span class="taxonomy-label">JSON</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/jsp/" data-taxonomy-term="jsp"><span class="taxonomy-label">JSP</span><span class="taxonomy-count">44</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/junit/" data-taxonomy-term="junit"><span class="taxonomy-label">JUnit</span><span class="taxonomy-count">18</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/jvm/" data-taxonomy-term="jvm"><span class="taxonomy-label">JVM</span><span class="taxonomy-count">6</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/jwt/" data-taxonomy-term="jwt"><span class="taxonomy-label">JWT</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/kafka/" data-taxonomy-term="kafka"><span class="taxonomy-label">Kafka</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/kibana/" data-taxonomy-term="kibana"><span class="taxonomy-label">Kibana</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/kotest/" data-taxonomy-term="kotest"><span class="taxonomy-label">Kotest</span><span class="taxonomy-count">77</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/kotlin/" data-taxonomy-term="kotlin"><span class="taxonomy-label">Kotlin</span><span class="taxonomy-count">144</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/ktor/" data-taxonomy-term="ktor"><span class="taxonomy-label">Ktor</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/kubernetes/" data-taxonomy-term="kubernetes"><span class="taxonomy-label">Kubernetes</span><span class="taxonomy-count">21</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/lan/" data-taxonomy-term="lan"><span class="taxonomy-label">LAN</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/laravel/" data-taxonomy-term="laravel"><span class="taxonomy-label">Laravel</span><span class="taxonomy-count">3</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/license/" data-taxonomy-term="license"><span class="taxonomy-label">License</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/linux/" data-taxonomy-term="linux"><span class="taxonomy-label">Linux</span><span class="taxonomy-count">77</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/logback/" data-taxonomy-term="logback"><span class="taxonomy-label">Logback</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/lombok/" data-taxonomy-term="lombok"><span class="taxonomy-label">Lombok</span><span class="taxonomy-count">16</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/lua/" data-taxonomy-term="lua"><span class="taxonomy-label">Lua</span><span class="taxonomy-count">5</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/macos/" data-taxonomy-term="macos"><span class="taxonomy-label">macOS</span><span class="taxonomy-count">19</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/makefile/" data-taxonomy-term="makefile"><span class="taxonomy-label">Makefile</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/markdown/" data-taxonomy-term="markdown"><span class="taxonomy-label">markdown</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/maven/" data-taxonomy-term="maven"><span class="taxonomy-label">Maven</span><span class="taxonomy-count">42</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/message-queue/" data-taxonomy-term="message-queue"><span class="taxonomy-label">Message Queue</span><span class="taxonomy-count">6</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/mockk/" data-taxonomy-term="mockk"><span class="taxonomy-label">mockk</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/mockserver/" data-taxonomy-term="mockserver"><span class="taxonomy-label">MockServer</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/mongodb/" data-taxonomy-term="mongodb"><span class="taxonomy-label">MongoDB</span><span class="taxonomy-count">13</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/mqtt/" data-taxonomy-term="mqtt"><span class="taxonomy-label">MQTT</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/msa/" data-taxonomy-term="msa"><span class="taxonomy-label">MSA</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/mvc/" data-taxonomy-term="mvc"><span class="taxonomy-label">MVC</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/mybatis/" data-taxonomy-term="mybatis"><span class="taxonomy-label">MyBatis</span><span class="taxonomy-count">44</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/mysql/" data-taxonomy-term="mysql"><span class="taxonomy-label">MySQL</span><span class="taxonomy-count">9</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/neo4j/" data-taxonomy-term="neo4j"><span class="taxonomy-label">Neo4j</span><span class="taxonomy-count">9</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/network/" data-taxonomy-term="network"><span class="taxonomy-label">Network</span><span class="taxonomy-count">24</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/nginx/" data-taxonomy-term="nginx"><span class="taxonomy-label">Nginx</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/node.js/" data-taxonomy-term="node.js"><span class="taxonomy-label">Node.js</span><span class="taxonomy-count">11</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/nosql/" data-taxonomy-term="nosql"><span class="taxonomy-label">NoSQL</span><span class="taxonomy-count">49</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/oauth/" data-taxonomy-term="oauth"><span class="taxonomy-label">OAuth</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/os/" data-taxonomy-term="os"><span class="taxonomy-label">OS</span><span class="taxonomy-count">100</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/osi/" data-taxonomy-term="osi"><span class="taxonomy-label">OSI</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/php/" data-taxonomy-term="php"><span class="taxonomy-label">php</span><span class="taxonomy-count">67</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/pinpoint/" data-taxonomy-term="pinpoint"><span class="taxonomy-label">Pinpoint</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/port/" data-taxonomy-term="port"><span class="taxonomy-label">Port</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/postgresql/" data-taxonomy-term="postgresql"><span class="taxonomy-label">PostgreSQL</span><span class="taxonomy-count">60</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/programming/" data-taxonomy-term="programming"><span class="taxonomy-label">Programming</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/prometheus/" data-taxonomy-term="prometheus"><span class="taxonomy-label">Prometheus</span><span class="taxonomy-count">8</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/proxy/" data-taxonomy-term="proxy"><span class="taxonomy-label">Proxy</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/pyspark/" data-taxonomy-term="pyspark"><span class="taxonomy-label">PySpark</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/python/" data-taxonomy-term="python"><span class="taxonomy-label">Python</span><span class="taxonomy-count">34</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/rdb/" data-taxonomy-term="rdb"><span class="taxonomy-label">RDB</span><span class="taxonomy-count">11</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/rdbms/" data-taxonomy-term="rdbms"><span class="taxonomy-label">RDBMS</span><span class="taxonomy-count">7</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/react/" data-taxonomy-term="react"><span class="taxonomy-label">React</span><span class="taxonomy-count">4</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/redis/" data-taxonomy-term="redis"><span class="taxonomy-label">Redis</span><span class="taxonomy-count">5</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/reflection/" data-taxonomy-term="reflection"><span class="taxonomy-label">Reflection</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/rest-api/" data-taxonomy-term="rest-api"><span class="taxonomy-label">REST API</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/rmi/" data-taxonomy-term="rmi"><span class="taxonomy-label">RMI</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/robots/" data-taxonomy-term="robots"><span class="taxonomy-label">robots</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/rpc/" data-taxonomy-term="rpc"><span class="taxonomy-label">RPC</span><span class="taxonomy-count">3</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/sass/" data-taxonomy-term="sass"><span class="taxonomy-label">SASS</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/scm/" data-taxonomy-term="scm"><span class="taxonomy-label">SCM</span><span class="taxonomy-count">46</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/scsss/" data-taxonomy-term="scsss"><span class="taxonomy-label">SCSSS</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/secure-coding-guide/" data-taxonomy-term="secure-coding-guide"><span class="taxonomy-label">Secure Coding Guide</span><span class="taxonomy-count">18</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/security/" data-taxonomy-term="security"><span class="taxonomy-label">Security</span><span class="taxonomy-count">3</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/seo/" data-taxonomy-term="seo"><span class="taxonomy-label">SEO</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/servlet/" data-taxonomy-term="servlet"><span class="taxonomy-label">Servlet</span><span class="taxonomy-count">44</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/sigil/" data-taxonomy-term="sigil"><span class="taxonomy-label">Sigil</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/sitemap/" data-taxonomy-term="sitemap"><span class="taxonomy-label">Sitemap</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/sns/" data-taxonomy-term="sns"><span class="taxonomy-label">SNS</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/software/" data-taxonomy-term="software"><span class="taxonomy-label">Software</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/solid/" data-taxonomy-term="solid"><span class="taxonomy-label">SOLID</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/spinnaker/" data-taxonomy-term="spinnaker"><span class="taxonomy-label">Spinnaker</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/spock/" data-taxonomy-term="spock"><span class="taxonomy-label">Spock</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/spring/" data-taxonomy-term="spring"><span class="taxonomy-label">Spring</span><span class="taxonomy-count">111</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/spring-batch/" data-taxonomy-term="spring-batch"><span class="taxonomy-label">Spring Batch</span><span class="taxonomy-count">5</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/spring-boot/" data-taxonomy-term="spring-boot"><span class="taxonomy-label">Spring Boot</span><span class="taxonomy-count">40</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/spring-data/" data-taxonomy-term="spring-data"><span class="taxonomy-label">Spring Data</span><span class="taxonomy-count">3</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/spring-data-r2dbc/" data-taxonomy-term="spring-data-r2dbc"><span class="taxonomy-label">Spring Data R2DBC</span><span class="taxonomy-count">4</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/spring-security/" data-taxonomy-term="spring-security"><span class="taxonomy-label">Spring Security</span><span class="taxonomy-count">10</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/spring-web-reactive/" data-taxonomy-term="spring-web-reactive"><span class="taxonomy-label">Spring Web Reactive</span><span class="taxonomy-count">35</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/sql/" data-taxonomy-term="sql"><span class="taxonomy-label">SQL</span><span class="taxonomy-count">42</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/sqlite/" data-taxonomy-term="sqlite"><span class="taxonomy-label">SQLite</span><span class="taxonomy-count">108</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/stack/" data-taxonomy-term="stack"><span class="taxonomy-label">Stack</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/svg/" data-taxonomy-term="svg"><span class="taxonomy-label">SVG</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/svn/" data-taxonomy-term="svn"><span class="taxonomy-label">SVN</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/swift/" data-taxonomy-term="swift"><span class="taxonomy-label">Swift</span><span class="taxonomy-count">49</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/syntaxhighlighter/" data-taxonomy-term="syntaxhighlighter"><span class="taxonomy-label">SyntaxHighlighter</span><span class="taxonomy-count">11</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/tcp/" data-taxonomy-term="tcp"><span class="taxonomy-label">TCP</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/tdd/" data-taxonomy-term="tdd"><span class="taxonomy-label">TDD</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/telnet/" data-taxonomy-term="telnet"><span class="taxonomy-label">Telnet</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/testcontainers/" data-taxonomy-term="testcontainers"><span class="taxonomy-label">Testcontainers</span><span class="taxonomy-count">4</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/testing/" data-taxonomy-term="testing"><span class="taxonomy-label">Testing</span><span class="taxonomy-count">9</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/thymeleaf/" data-taxonomy-term="thymeleaf"><span class="taxonomy-label">Thymeleaf</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/tidb/" data-taxonomy-term="tidb"><span class="taxonomy-label">TiDB</span><span class="taxonomy-count">25</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/tomcat/" data-taxonomy-term="tomcat"><span class="taxonomy-label">Tomcat</span><span class="taxonomy-count">8</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/transaction/" data-taxonomy-term="transaction"><span class="taxonomy-label">Transaction</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/udp/" data-taxonomy-term="udp"><span class="taxonomy-label">UDP</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/ui/" data-taxonomy-term="ui"><span class="taxonomy-label">UI</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/ux/" data-taxonomy-term="ux"><span class="taxonomy-label">UX</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/vcs/" data-taxonomy-term="vcs"><span class="taxonomy-label">VCS</span><span class="taxonomy-count">46</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/virtualbox/" data-taxonomy-term="virtualbox"><span class="taxonomy-label">VirtualBox</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/virtualization/" data-taxonomy-term="virtualization"><span class="taxonomy-label">Virtualization</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/vo/" data-taxonomy-term="vo"><span class="taxonomy-label">vo</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/vpn/" data-taxonomy-term="vpn"><span class="taxonomy-label">VPN</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/vscode/" data-taxonomy-term="vscode"><span class="taxonomy-label">VSCode</span><span class="taxonomy-count">4</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/vue.js/" data-taxonomy-term="vue.js"><span class="taxonomy-label">Vue.js</span><span class="taxonomy-count">9</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/web/" data-taxonomy-term="web"><span class="taxonomy-label">WEB</span><span class="taxonomy-count">389</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/windows/" data-taxonomy-term="windows"><span class="taxonomy-label">Windows</span><span class="taxonomy-count">3</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/xml/" data-taxonomy-term="xml"><span class="taxonomy-label">XML</span><span class="taxonomy-count">13</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/yaml/" data-taxonomy-term="yaml"><span class="taxonomy-label">YAML</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/zookeeper/" data-taxonomy-term="zookeeper"><span class="taxonomy-label">ZooKeeper</span><span class="taxonomy-count">2</span></a></li>
        </ul>
    </div>
  

          </aside>
          <main class="col-12 col-md-9 col-xl-8 ps-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="td-breadcrumbs">
  <ol class="breadcrumb">
  <li class="breadcrumb-item">
    <a href="https://www.devkuma.com/docs/category/programming/testing/">Software Testing</a></li>
  <li class="breadcrumb-item">
    <a href="https://www.devkuma.com/docs/junit/">JUnit</a></li>
  <li class="breadcrumb-item active" aria-current="page">
    JUnit5 확장 모델</li>
  </ol>
</nav>
            
<div class="td-content">
	<h1>JUnit5 확장 모델</h1>
	<div class="lead">JUnit5의 여러 확장 모델에 대한 설명</div>
	<header class="article-meta">
		
		
			
				<div class="taxonomy taxonomy-terms-article taxo-tags">
  <h5 class="taxonomy-title">Tags:</h5>
  <ul class="taxonomy-terms">
    <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/java/" data-taxonomy-term="java"><span class="taxonomy-label">Java</span></a></li>
    <li><a class="taxonomy-term" href="https://www.devkuma.com/tags/junit/" data-taxonomy-term="junit"><span class="taxonomy-label">JUnit</span></a></li>
    </ul>
</div>

			
		
		
	</header>
	
	<h2 id="확장-모델">확장 모델</h2>
<p>JUnit Jupiter에는 확장 모델 이라는 구조가 준비되어있어 모든 확장 기능을 쉽게 도입 할 수 있다.</p>
<h2 id="기본-확장-모델">기본 확장 모델</h2>
<p>확장 기능을 만들려면 먼저 <a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/package-summary.html" target="_blank" rel="noopener"><code>Extension</code><i class="fas fa-external-link-alt"></i></a> 인터페이스를 구현하는 클래스를 만든다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">com.devkuma.junit5.extention</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.AfterEachCallback</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.BeforeEachCallback</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyExtension</span> <span style="color:#204a87;font-weight:bold">implements</span> <span style="color:#000">BeforeEachCallback</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">AfterEachCallback</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">beforeEach</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;MyExtension.beforeEach()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">afterEach</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;MyExtension.afterEach()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>여기서 <code>Extension</code> 자체는 마커 인터페이스이어서 메서드가 정의되어 있지 않다.</p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">마커 인터페이스</h4>

    마커 인터페이스(marker interface)란, 일반적인 인터페이스와 동일하지만, 아무 메서드도 선언하지 않은 인터페이스이다. 자바의 대표적인 마커 인터페이스로는 <code>Serializable</code>, <code>Cloneable</code>, <code>EventListener</code>가 있다. 대부분의 경우 마커 인터페이스를 단순한 타입 체크를 하기 위해 사용한다.

</div>

<p>Extension 상속한 <a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/BeforeEachCallback.html" target="_blank" rel="noopener"><code>BeforeEachCallback</code><i class="fas fa-external-link-alt"></i></a> 이나 <a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/AfterEachCallback.html" target="_blank" rel="noopener"><code>AfterEachCallback</code><i class="fas fa-external-link-alt"></i></a>와 같은 확장 포인트 마다 정의된 서브 인터페이스를 구현한다.</p>
<ul>
<li><code>BeforeEachCallback</code>는 각 테스트 전에 콜백되는 <code>beforeEach()</code> 메소드가 정의된다.</li>
<li><code>AfterEachCallback</code>는 각 테스트 후에 콜백되는 <code>afterEach()</code> 메소드가 정의된다.</li>
</ul>
<p>그럼, 앞에서 생성한 <code>MyExtension</code>를 사용해 보겠다.</p>
<p>확장 기능을 구현한 클래스를 실제로 테스트에서 사용하는 방법 중 하나로 <code>@ExtendWith</code> 어노테이션을 사용하는 방법이 있다.<br>
확장 기능을 적용할 위치에 <code>@ExtendWith</code> 어노테이션을 설정하고, <code>value</code>에 적용할 확장 프로그램의 Class 객체를 지정한다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">com.devkuma.junit5.extention</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.Test</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ExtendWith</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#5c35cc;font-weight:bold">@ExtendWith</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">MyExtension</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyExtensionTest</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">test1</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;  test1()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">test2</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;  test2()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>실행 결과:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>MyExtension.beforeEach()
</span></span><span style="display:flex;"><span>MyExtension.beforeEach()
</span></span><span style="display:flex;"><span>  test1()
</span></span><span style="display:flex;"><span>  test2()
</span></span><span style="display:flex;"><span>MyExtension.afterEach()
</span></span><span style="display:flex;"><span>MyExtension.afterEach()
</span></span></code></pre></div><p>이것만으로 각 테스트 전후에 확장 기능으로 정의한 처리가 실행되었다.</p>
<p>그리고 앞에 예에서는 클래스에 대해서 <code>@ExtendWith</code>를 지정하였지만, 메소드에 지정하는 것으로 부분적으로 확장 기능을 적용할 수도 있다.</p>
<p>아래 예는 <code>test1()</code> 메소드에만 확장 기능을 적용한 경우이다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">com.devkuma.junit5.extention</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.Test</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ExtendWith</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//@ExtendWith(MyExtension.class)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyExtensionTest</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@ExtendWith</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">MyExtension</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">test1</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;  test1()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">test2</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;  test2()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>실행 결과:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>MyExtension.beforeEach()
</span></span><span style="display:flex;"><span>  test1()
</span></span><span style="display:flex;"><span>MyExtension.afterEach()
</span></span><span style="display:flex;"><span>  test2()
</span></span></code></pre></div><h2 id="확장-포인트">확장 포인트</h2>
<p>Extension인터페이스를 상속한 확장 포인트가 되는 인터페이스에는 다음과 같은 것이 있다.</p>
<table>
<thead>
<tr>
<th>인터페이스</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ExecutionCondition</code></td>
<td>테스트를 실행할지 여부를 제어한다.</td>
</tr>
<tr>
<td><code>TestInstanceFactory</code></td>
<td>테스트 인스턴스를 생성한다.</td>
</tr>
<tr>
<td><code>TestInstancePostProcessor</code></td>
<td>테스트 인스턴스 생성 후의 초기화 처리 등을 수행한다.</td>
</tr>
<tr>
<td><code>ParameterResolver</code></td>
<td>테스트 메소드나 라이프사이클 메소드 등의 인수를 받을 수 있게 해준다.</td>
</tr>
<tr>
<td><code>BeforeAllCallback</code><br><code>BeforeEachCallback</code><br><code>BeforeTestExecutionAfter</code><br><code>AfterTestExecutionCallback</code><br><code>AfterEachCallback</code><br><code>AfterAllCallback</code></td>
<td>테스트의 실행 전후 등 라이프 사이클에 따른 처리를 실행한다.</td>
</tr>
<tr>
<td><code>TestWatcher</code></td>
<td>테스트 메소드의 실행 결과에 맞춘 후처리를 실행한다.</td>
</tr>
<tr>
<td><code>TestExecutionExceptionHandler</code></td>
<td>테스트 실행 시에 발생한 예외를 처리한다.</td>
</tr>
<tr>
<td><code>LifecycleMethodExecutionExceptionHandler</code></td>
<td><code>@BeforeEach</code> 등의 라이프 사이클 메소드로 발생한 예외를 처리한다.</td>
</tr>
<tr>
<td><code>TestTemplateInvocationContextProvider</code></td>
<td>동일한 테스트를 다른 컨텍스트에서 실행하기 위한 준비 처리 등을 수행한다.</td>
</tr>
</tbody>
</table>
<h2 id="지원-클래스">지원 클래스</h2>
<p>확장 클래스를 구현할 때, 범용적으로 이용할 수 있는 유틸리티 클래스(지원 클래스)가 제공되고 있다.</p>
<ul>
<li><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.commons/org/junit/platform/commons/support/AnnotationSupport.html" target="_blank" rel="noopener"><code>AnnotationSupport</code><i class="fas fa-external-link-alt"></i></a>
<ul>
<li>어노테이션에 대한 유틸리티 클래스
<ul>
<li>어노테이션이 지정된 요소 찾기</li>
<li>어노테이션이 지정되어 있는지 여부 판단</li>
<li>그밖에 등등</li>
</ul>
</li>
</ul>
</li>
<li><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.commons/org/junit/platform/commons/support/ClassSupport.html" target="_blank" rel="noopener"><code>ClassSupport</code><i class="fas fa-external-link-alt"></i></a>
<ul>
<li><code>Class</code>문자열 표현에 대한 처리를 제공하는 유틸리티</li>
</ul>
</li>
<li><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.commons/org/junit/platform/commons/support/ReflectionSupport.html" target="_blank" rel="noopener"><code>ReflectionSupport</code><i class="fas fa-external-link-alt"></i></a>
<ul>
<li>리플렉션 조작에 관한 유틸리티
<ul>
<li>클래스 메소드 필드 생성자 찾기</li>
<li>메소드 생성자 실행</li>
<li>인스턴스 생성</li>
<li>그밖에 등등</li>
</ul>
</li>
</ul>
</li>
<li><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.commons/org/junit/platform/commons/support/ModifierSupport.html" target="_blank" rel="noopener"><code>ModifierSupport</code><i class="fas fa-external-link-alt"></i></a>
<ul>
<li>한정자의 판정 메소드를 정의한 유틸리티</li>
</ul>
</li>
</ul>
<p>예외 처리나 번거로운 기술을 생략하고, 간결한 방법으로 조작을 할 수 있게 되어 있다.</p>
<p>우선 &ldquo;이런 것이 존재한다&quot;라고 하는 것을 기억해 두고, 막상 확장 클래스를 만들기 시작하면 &ldquo;아, 이것 서포트 클래스 사용할 수 있지?&ldquo;라고 기억해 내서 원하는 메소드가 있는지 찾는 방식으로 하는 것이 좋다고 생각한다.</p>
<p>이러한 클래스는 내부 유틸리티가 아니고, 제3자가 독자적인 <code>TestEngine</code>이나 확장 기능을 만들 때의 보조로서 준비되어 있는 것이므로 안심하고 사용하여도 문제 없다.</p>
<h2 id="테스트-실행-조건-제어">테스트 실행 조건 제어</h2>
<p><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/ExecutionCondition.html" target="_blank" rel="noopener"><code>ExecutionCondition</code><i class="fas fa-external-link-alt"></i></a>을 사용하면 테스트를 실행할지 여부를 제어할 수 있다.</p>
<p>먼저 실행 조건의 확장 클래스를 생성한다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">com.devkuma.junit5.extention</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ConditionEvaluationResult</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ExecutionCondition</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyExecutionCondition</span> <span style="color:#204a87;font-weight:bold">implements</span> <span style="color:#000">ExecutionCondition</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#000">ConditionEvaluationResult</span> <span style="color:#000">evaluateExecutionCondition</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getTestMethod</span><span style="color:#ce5c00;font-weight:bold">().</span><span style="color:#c4a000">isPresent</span><span style="color:#ce5c00;font-weight:bold">())</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;# Test method = &#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getRequiredTestMethod</span><span style="color:#ce5c00;font-weight:bold">().</span><span style="color:#c4a000">getName</span><span style="color:#ce5c00;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getDisplayName</span><span style="color:#ce5c00;font-weight:bold">().</span><span style="color:#c4a000">contains</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;o&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#ce5c00;font-weight:bold">?</span> <span style="color:#000">ConditionEvaluationResult</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">enabled</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Test name has &#39;o&#39;.&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">ConditionEvaluationResult</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">disabled</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Test name does not have &#39;o&#39;.&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span> <span style="color:#204a87;font-weight:bold">else</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;# Test class = &#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getRequiredTestClass</span><span style="color:#ce5c00;font-weight:bold">().</span><span style="color:#c4a000">getSimpleName</span><span style="color:#ce5c00;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">ConditionEvaluationResult</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">enabled</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;This is test class.&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>이 실행 조건의 확장 클래스는 테스트 메소드의 표시 이름에 &ldquo;o&rdquo; 포함된 항목만 사용하도록 설정되었다.</p>
<p>그럼 앞에서 생성한 확장 클래스를 지정한 테스트 코드는 아래와 같다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">com.devkuma.junit5.extention</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.*</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ExtendWith</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.List</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#5c35cc;font-weight:bold">@ExtendWith</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">MyExecutionCondition</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyExecutionConditionTest</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@BeforeEach</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">beforeEach</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;beforeEach()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">dog</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;  dog()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">cat</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;  cat()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Nested</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">NestedClass</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">cow</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;  cow()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@TestFactory</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">DynamicNode</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">testFactory</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">of</span><span style="color:#ce5c00;font-weight:bold">(</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000">DynamicTest</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">dynamicTest</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;DynamicTest1&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">-&gt;</span> <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;  dynamicTest1&#34;</span><span style="color:#ce5c00;font-weight:bold">)),</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000">DynamicTest</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">dynamicTest</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;DynamicTest2&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">-&gt;</span> <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;  dynamicTest2&#34;</span><span style="color:#ce5c00;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>실행 결과:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span># Test class = MyExecutionConditionTest
</span></span><span style="display:flex;"><span># Test method = testFactory
</span></span><span style="display:flex;"><span>beforeEach()
</span></span><span style="display:flex;"><span>  dynamicTest1
</span></span><span style="display:flex;"><span>  dynamicTest2
</span></span><span style="display:flex;"><span># Test method = cat
</span></span><span style="display:flex;"><span># Test method = dog
</span></span><span style="display:flex;"><span>beforeEach()
</span></span><span style="display:flex;"><span>  dog()
</span></span><span style="display:flex;"><span># Test class = NestedClass
</span></span><span style="display:flex;"><span># Test method = cow
</span></span><span style="display:flex;"><span>beforeEach()
</span></span><span style="display:flex;"><span>  cow()
</span></span></code></pre></div><ul>
<li>메소드가 실행될 때마다 <code>evaluateExecutionCondition(ExtensionContext)</code> 메소드가 호출되므로 대상 테스트를 실행할지 여부를 반환 값으로 제어한다.
<ul>
<li>실행하는 경우는 <a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/ConditionEvaluationResult.html#enabled%28java.lang.String%29" target="_blank" rel="noopener"><code>ConditionEvaluationResult.enabled(String)</code><i class="fas fa-external-link-alt"></i></a>로 생성한 값을 반환한다.</li>
<li>실행하지 않는 경우는 <a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/ConditionEvaluationResult.html#disabled%28java.lang.String%29" target="_blank" rel="noopener"><code>ConditionEvaluationResult.disabled(String)</code><i class="fas fa-external-link-alt"></i></a>로 생성한 값을 반환한다.</li>
<li>인수에는 대상을 활성화/비활성화한 이유를 넣는다.</li>
</ul>
</li>
<li><code>evaluateExecutionCondition(ExtensionContext)</code> 메소드가 인수로 받는 <code>ExtensionContext</code>를 사용하면, 대상의 테스트 메소드에 대한 정보를 참조할 수 있다.
<ul>
<li><code>getTestMethod()</code>와 같은 일부 메소드는 조건에 따라 값이 존재하지 않을 수 있으므로 반환 값 유형이 <code>Optional</code>으로 되어 있다.</li>
<li>반드시 <code>null</code> 되지 않는 것을 알고 있다면, <a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/ExtensionContext.html#getRequiredTestMethod%28%29" target="_blank" rel="noopener"><code>getRequiredTestMethod()</code><i class="fas fa-external-link-alt"></i></a>와 같이 <code>Required</code> 붙은 메소드를 사용하는 방법도 있다.</li>
</ul>
</li>
</ul>
<h2 id="테스트-인스턴스-생성">테스트 인스턴스 생성</h2>
<p><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/TestInstanceFactory.html" target="_blank" rel="noopener"><code>TestInstanceFactory</code><i class="fas fa-external-link-alt"></i></a>를 사용하면 테스트 인스턴스 생성을 수동화할 수 있다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">com.devkuma.junit5.extention</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.TestInstanceFactory</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.TestInstanceFactoryContext</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.TestInstantiationException</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.platform.commons.support.ReflectionSupport</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyTestInstanceFactory</span> <span style="color:#204a87;font-weight:bold">implements</span> <span style="color:#000">TestInstanceFactory</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#000">Object</span> <span style="color:#000">createTestInstance</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">TestInstanceFactoryContext</span> <span style="color:#000">factoryContext</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">ExtensionContext</span> <span style="color:#000">extensionContext</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">TestInstantiationException</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">Class</span><span style="color:#ce5c00;font-weight:bold">&lt;?&gt;</span> <span style="color:#000">testClass</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">factoryContext</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getTestClass</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;===========================================&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;* testClass=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">testClass</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;* outerInstance=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">factoryContext</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getOuterInstance</span><span style="color:#ce5c00;font-weight:bold">().</span><span style="color:#c4a000">orElse</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;&lt;empty&gt;&#34;</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">factoryContext</span>
</span></span><span style="display:flex;"><span>                <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getOuterInstance</span><span style="color:#ce5c00;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>                <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">map</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">outerInstance</span> <span style="color:#ce5c00;font-weight:bold">-&gt;</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#000">Object</span> <span style="color:#000">instance</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">ReflectionSupport</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">newInstance</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">testClass</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">outerInstance</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;* outerInstance [&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">outerInstance</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">hashCode</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;]&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;* testInstance [&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">instance</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">hashCode</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;]&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">instance</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#ce5c00;font-weight:bold">})</span>
</span></span><span style="display:flex;"><span>                <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">orElseGet</span><span style="color:#ce5c00;font-weight:bold">(()</span> <span style="color:#ce5c00;font-weight:bold">-&gt;</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#000">Object</span> <span style="color:#000">instance</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">ReflectionSupport</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">newInstance</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">testClass</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;* testInstance [&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">instance</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">hashCode</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;]&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">instance</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#ce5c00;font-weight:bold">});</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>이어서, <code>MyTestInstanceFactory</code> 확장 클래스를 적용한 테스트 클래스는 아래와 같다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">com.devkuma.junit5.extention</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.*</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ExtendWith</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.List</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#5c35cc;font-weight:bold">@ExtendWith</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">MyTestInstanceFactory</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyTestInstanceFactoryTest</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">test</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;MyTestInstanceFactoryTest.test() [&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#204a87;font-weight:bold">this</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">hashCode</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;]&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Nested</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">NestedClass</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">test</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;MyTestInstanceFactoryTest.NestedClass.test() [&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#204a87;font-weight:bold">this</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">hashCode</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;]&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@TestFactory</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">DynamicNode</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">testFactory</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">of</span><span style="color:#ce5c00;font-weight:bold">(</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000">DynamicTest</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">dynamicTest</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;DynamicTest1&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">-&gt;</span> <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;MyTestInstanceFactoryTest.dynamicTest1() [&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#204a87;font-weight:bold">this</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">hashCode</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;]&#34;</span><span style="color:#ce5c00;font-weight:bold">)),</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000">DynamicTest</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">dynamicTest</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;DynamicTest2&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">-&gt;</span> <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;MyTestInstanceFactoryTest.dynamicTest2() [&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#204a87;font-weight:bold">this</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">hashCode</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;]&#34;</span><span style="color:#ce5c00;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>실행 결과:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>===========================================
</span></span><span style="display:flex;"><span>* testClass=class com.devkuma.junit5.extention.MyTestInstanceFactoryTest
</span></span><span style="display:flex;"><span>* outerInstance=&lt;empty&gt;
</span></span><span style="display:flex;"><span>* testInstance [322561962]
</span></span><span style="display:flex;"><span>MyTestInstanceFactoryTest.dynamicTest1() [322561962]
</span></span><span style="display:flex;"><span>MyTestInstanceFactoryTest.dynamicTest2() [322561962]
</span></span><span style="display:flex;"><span>===========================================
</span></span><span style="display:flex;"><span>* testClass=class com.devkuma.junit5.extention.MyTestInstanceFactoryTest
</span></span><span style="display:flex;"><span>* outerInstance=&lt;empty&gt;
</span></span><span style="display:flex;"><span>* testInstance [1558763625]
</span></span><span style="display:flex;"><span>MyTestInstanceFactoryTest.test() [1558763625]
</span></span><span style="display:flex;"><span>===========================================
</span></span><span style="display:flex;"><span>* testClass=class com.devkuma.junit5.extention.MyTestInstanceFactoryTest
</span></span><span style="display:flex;"><span>* outerInstance=&lt;empty&gt;
</span></span><span style="display:flex;"><span>* testInstance [1408695561]
</span></span><span style="display:flex;"><span>===========================================
</span></span><span style="display:flex;"><span>* testClass=class com.devkuma.junit5.extention.MyTestInstanceFactoryTest$NestedClass
</span></span><span style="display:flex;"><span>* outerInstance=com.devkuma.junit5.extention.MyTestInstanceFactoryTest@53f6fd09
</span></span><span style="display:flex;"><span>* outerInstance [1408695561]
</span></span><span style="display:flex;"><span>* testInstance [1811922029]
</span></span><span style="display:flex;"><span>MyTestInstanceFactoryTest.NestedClass.test() [1811922029]
</span></span></code></pre></div><ul>
<li>각 테스트 메소드가 실행되기 전에 <code>createTestInstance()</code> 메소드가 호출된다.
<ul>
<li>라이프사이클에 <code>PER_CLASS</code>으로 설정 되어 있는 경우는 클래스 마다 1회만 호출된다.</li>
</ul>
</li>
<li><code>createTestInstance()</code> 반환된 인스턴스가 테스트에서 사용된다.
<code>@Nested</code>에서 정의한 내부 테스트 클래스가 있는 경우는 일단 외부 클래스의 생성을 해야 하기 때문에, 호출된 후에는 내부 테스트 클래스 생성을 위해서 한번 더 메소드가 호출된다.
<ul>
<li>내부 클래스일 경우에는 <code>TestInstanceFactoryContext</code>의 <code>getOuterInstance()</code>가 비어 있지 않기 때문에 그것으로 판단할 수 있다.</li>
</ul>
</li>
</ul>
<h2 id="테스트-인스턴스-생성-후-초기화-처리">테스트 인스턴스 생성 후 초기화 처리</h2>
<p><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/TestInstancePostProcessor.html" target="_blank" rel="noopener"><code>TestInstancePostProcessor</code><i class="fas fa-external-link-alt"></i></a>를 사용하면 테스트 메소드가 실행되기 전에 테스트 인스턴스를 수신하여 임의의 처리를 수행할 수 있다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">com.devkuma.junit5.extention</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.TestInstancePostProcessor</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyTestInstancePostProcessor</span> <span style="color:#204a87;font-weight:bold">implements</span> <span style="color:#000">TestInstancePostProcessor</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">postProcessTestInstance</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Object</span> <span style="color:#000">testInstance</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;testInstance.hash = &#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">testInstance</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">hashCode</span><span style="color:#ce5c00;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>이어서, <code>MyTestInstancePostProcessor</code> 확장 클래스를 적용한 테스트 클래스는 아래와 같다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">com.devkuma.junit5.extention</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.Test</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ExtendWith</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#5c35cc;font-weight:bold">@ExtendWith</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">MyTestInstancePostProcessor</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyTestInstancePostProcessorTest</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">test1</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;test1() [&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#204a87;font-weight:bold">this</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">hashCode</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;]&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">test2</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;test2() [&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#204a87;font-weight:bold">this</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">hashCode</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;]&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>실행 결과:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>testInstance.hash = 1530295320
</span></span><span style="display:flex;"><span>test1() [1530295320]
</span></span><span style="display:flex;"><span>testInstance.hash = 279566689
</span></span><span style="display:flex;"><span>test2() [279566689]
</span></span></code></pre></div><ul>
<li>테스트 인스턴스에 무언가 의존성을 주입하거나 초기화 메소드를 호출하는데 사용되는 것 같다.</li>
</ul>
<h2 id="매개변수-해결">매개변수 해결</h2>
<p><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/ParameterResolver.html" target="_blank" rel="noopener"><code>ParameterResolver</code><i class="fas fa-external-link-alt"></i></a>를 사용하면 다양한 메소드의 인수를 임의로 넣을 수 있다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">com.devkuma.junit5.extention</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ParameterContext</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ParameterResolutionException</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ParameterResolver</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.lang.reflect.Executable</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.lang.reflect.Parameter</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.Optional</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyParameterResolver</span> <span style="color:#204a87;font-weight:bold">implements</span> <span style="color:#000">ParameterResolver</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">boolean</span> <span style="color:#000">supportsParameter</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ParameterContext</span> <span style="color:#000">parameterContext</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">ExtensionContext</span> <span style="color:#000">extensionContext</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">ParameterResolutionException</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">Executable</span> <span style="color:#000">executable</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">parameterContext</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getDeclaringExecutable</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">index</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">parameterContext</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getIndex</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">Parameter</span> <span style="color:#000">parameter</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">parameterContext</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getParameter</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">Optional</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Object</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">target</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">parameterContext</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getTarget</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">printf</span><span style="color:#ce5c00;font-weight:bold">(</span>
</span></span><span style="display:flex;"><span>                <span style="color:#4e9a06">&#34;target=%s, executable=%s, index=%d, parameter=%s%n&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000">target</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">orElse</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;&lt;empty&gt;&#34;</span><span style="color:#ce5c00;font-weight:bold">),</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000">executable</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getName</span><span style="color:#ce5c00;font-weight:bold">(),</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000">index</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000">parameter</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getName</span><span style="color:#ce5c00;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#204a87;font-weight:bold">true</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#000">Object</span> <span style="color:#000">resolveParameter</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ParameterContext</span> <span style="color:#000">parameterContext</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">ExtensionContext</span> <span style="color:#000">extensionContext</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">ParameterResolutionException</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">Class</span><span style="color:#ce5c00;font-weight:bold">&lt;?&gt;</span> <span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">parameterContext</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getParameter</span><span style="color:#ce5c00;font-weight:bold">().</span><span style="color:#c4a000">getType</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">type</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">equals</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">))</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#4e9a06">&#34;Hello&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span> <span style="color:#204a87;font-weight:bold">else</span> <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">type</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">equals</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">int</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">))</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#0000cf;font-weight:bold">999</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span> <span style="color:#204a87;font-weight:bold">else</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#0000cf;font-weight:bold">12.34</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>이어서, <code>MyParameterResolver</code> 확장 클래스를 적용한 테스트 클래스는 아래와 같다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">com.devkuma.junit5.extention</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.*</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ExtendWith</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.List</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#5c35cc;font-weight:bold">@ExtendWith</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">MyParameterResolver</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyParameterResolverTest</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@BeforeEach</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">beforeEach</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">printf</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;beforeEach(i=%d)%n&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@TestFactory</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">DynamicNode</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">dynamicTest</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span> <span style="color:#000">string</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">of</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">DynamicTest</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">dynamicTest</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;DynamicTest&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">-&gt;</span> <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">printf</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;dynamicTest(string=%s)%n&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">string</span><span style="color:#ce5c00;font-weight:bold">)));</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">test1</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span> <span style="color:#000">string</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">double</span> <span style="color:#000">d</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">printf</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;test1(string=%s, d=%f, i=%d)%n&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">string</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">d</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Nested</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">NestedClass</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">test2</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">double</span> <span style="color:#000">d</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">printf</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;test2(d=%f)%n&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">d</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@AfterEach</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">afterEach</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;-----------------------------------------&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>실행 결과:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>target=com.devkuma.junit5.extention.MyParameterResolverTest@132e0cc, executable=beforeEach, index=0, parameter=arg0
</span></span><span style="display:flex;"><span>beforeEach(i=999)
</span></span><span style="display:flex;"><span>target=com.devkuma.junit5.extention.MyParameterResolverTest@132e0cc, executable=dynamicTest, index=0, parameter=arg0
</span></span><span style="display:flex;"><span>dynamicTest(string=Hello)
</span></span><span style="display:flex;"><span>-----------------------------------------
</span></span><span style="display:flex;"><span>target=com.devkuma.junit5.extention.MyParameterResolverTest@42b02722, executable=beforeEach, index=0, parameter=arg0
</span></span><span style="display:flex;"><span>beforeEach(i=999)
</span></span><span style="display:flex;"><span>target=com.devkuma.junit5.extention.MyParameterResolverTest@42b02722, executable=test1, index=0, parameter=arg0
</span></span><span style="display:flex;"><span>target=com.devkuma.junit5.extention.MyParameterResolverTest@42b02722, executable=test1, index=1, parameter=arg1
</span></span><span style="display:flex;"><span>target=com.devkuma.junit5.extention.MyParameterResolverTest@42b02722, executable=test1, index=2, parameter=arg2
</span></span><span style="display:flex;"><span>test1(string=Hello, d=12.340000, i=999)
</span></span><span style="display:flex;"><span>-----------------------------------------
</span></span><span style="display:flex;"><span>target=com.devkuma.junit5.extention.MyParameterResolverTest@6bffbc6d, executable=beforeEach, index=0, parameter=arg0
</span></span><span style="display:flex;"><span>beforeEach(i=999)
</span></span><span style="display:flex;"><span>target=com.devkuma.junit5.extention.MyParameterResolverTest$NestedClass@1b84f475, executable=test2, index=0, parameter=arg0
</span></span><span style="display:flex;"><span>test2(d=12.340000)
</span></span><span style="display:flex;"><span>-----------------------------------------
</span></span></code></pre></div><ul>
<li><code>ParameterResolver</code>를 사용하면 <code>@Test</code>뿐만이 아니라, <code>@TestFactory</code>와 <code>@BeforeEach</code>와 같은 메소드의 인수도 넣을 수 있다</li>
<li>각 메소드 인수마다 <code>supportsParameter()</code> 호출된다.
<ul>
<li><code>ParameterContext</code>로부터, 인수의 메타정을 참조할 수 있다.</li>
<li>인수의 해결을 서포트하는 경우는 true를 돌려주어, 그렇지 않은 경우는 false를 돌려주도록 구현한다.</li>
</ul>
</li>
<li><code>supportsParameter()</code>가 <code>true</code>반환되면 다음에 <code>resolveParameter()</code>이 호출된다.
<ul>
<li>이 메소드로 넣을 인수의 값을 돌려주도록 구현한다.</li>
</ul>
</li>
<li>또한 <code>Parameter.getName()</code>으로 인수 이름을 얻으려면, <code>javac</code> 컴파일 할 때 <code>-parameters</code> 옵션을 추가해야 한다.
<ul>
<li>옵션이 없으면 <code>arg0</code>, <code>arg1</code>와 같은 이름이 된다.</li>
<li>Gradle로 빌드하는 경우 <code>compileTestJava.options.complierArgs += &quot;-parameters&quot;</code>와 같은 식으로 설정할 수 있다.</li>
</ul>
</li>
</ul>
<h2 id="라이프사이클에-따른-처리">라이프사이클에 따른 처리</h2>
<p>라이프사이클에 따른 확정 클래스에 대해 소개하겠다.</p>
<p>아래 확장 클래스는 라이프 사이클 콜팩 인터페이스들을 구현하고 있다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">com.devkuma.junit5.extention</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.*</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyLifeCycleCallback</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">implements</span> <span style="color:#000">BeforeAllCallback</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">BeforeEachCallback</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">BeforeTestExecutionCallback</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">AfterTestExecutionCallback</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">AfterEachCallback</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">AfterAllCallback</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">beforeAll</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;BeforeAllCallback&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">beforeEach</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;    BeforeEachCallback&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">beforeTestExecution</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;        BeforeTestExecutionCallback&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">afterTestExecution</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;        AfterTestExecutionCallback&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">afterEach</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;    AfterEachCallback&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">afterAll</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;AfterAllCallback&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>앞에서 만든 확장 클래스를 지정하며 만든 테스트 클래스는 아래와 같다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">com.devkuma.junit5.extention</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.*</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.*</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#5c35cc;font-weight:bold">@ExtendWith</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">MyLifeCycleCallback</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyLifeCycleCallbackTest</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@BeforeAll</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">beforeAll</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;  beforeAll()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@BeforeEach</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">beforeEach</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;      beforeEach()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">test</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;          test()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@AfterEach</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">afterEach</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;      afterEach()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@AfterAll</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">afterAll</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;  afterAll()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>실행 결과:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>BeforeAllCallback
</span></span><span style="display:flex;"><span>  beforeAll()
</span></span><span style="display:flex;"><span>    BeforeEachCallback
</span></span><span style="display:flex;"><span>      beforeEach()
</span></span><span style="display:flex;"><span>        BeforeTestExecutionCallback
</span></span><span style="display:flex;"><span>          test()
</span></span><span style="display:flex;"><span>        AfterTestExecutionCallback
</span></span><span style="display:flex;"><span>      afterEach()
</span></span><span style="display:flex;"><span>    AfterEachCallback
</span></span><span style="display:flex;"><span>  afterAll()
</span></span><span style="display:flex;"><span>AfterAllCallback
</span></span></code></pre></div><ul>
<li><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/BeforeAllCallback.html" target="_blank" rel="noopener"><code>BeforeAllCallback</code><i class="fas fa-external-link-alt"></i></a>
<ul>
<li><code>@BeforeAll</code> 이전에 수행하는 프로세스를 구현할 수 있다.</li>
</ul>
</li>
<li><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/BeforeEachCallback.html" target="_blank" rel="noopener"><code>BeforeEachCallback</code><i class="fas fa-external-link-alt"></i></a>
<ul>
<li><code>@BeforeEach</code> 이전에 수행하는 프로세스를 구현할 수 있다.</li>
</ul>
</li>
<li><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/BeforeTestExecutionCallback.html" target="_blank" rel="noopener"><code>BeforeTestExecutionCallback</code><i class="fas fa-external-link-alt"></i></a>
<ul>
<li><code>@BeforeEach</code> 이후에 테스트 메소드 이전에 실행되는 처리를 구현할 수 있다.</li>
</ul>
</li>
<li><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/AfterTestExecutionCallback.html" target="_blank" rel="noopener"><code>AfterTestExecutionCallback</code><i class="fas fa-external-link-alt"></i></a>
<ul>
<li><code>@AfterEach</code> 이전에 테스트 메소드 이후에 실행되는 처리를 구현할 수 있다.</li>
</ul>
</li>
<li><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/AfterEachCallback.html" target="_blank" rel="noopener"><code>AfterEachCallback</code><i class="fas fa-external-link-alt"></i></a>
<ul>
<li><code>@AfterEach</code> 이후에 수행하는 프로세스를 구현할 수 있다.</li>
</ul>
</li>
<li><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/AfterAllCallback.html" target="_blank" rel="noopener"><code>AfterAllCallback</code><i class="fas fa-external-link-alt"></i></a>
<ul>
<li><code>@AfterAll</code> 이후에 수행하는 프로세스를 구현할 수 있다.</li>
</ul>
</li>
</ul>
<h2 id="테스트-결과에-맞는-처리-수행">테스트 결과에 맞는 처리 수행</h2>
<p><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/TestWatcher.html" target="_blank" rel="noopener"><code>TestWatcher</code><i class="fas fa-external-link-alt"></i></a>를 사용하면 테스트 결과에 맞는 처리를 구현할 수 있다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">com.devkuma.junit5.extention</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.AfterEachCallback</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.TestWatcher</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.Optional</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyTestWatcher</span> <span style="color:#204a87;font-weight:bold">implements</span> <span style="color:#000">TestWatcher</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">AfterEachCallback</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">testDisabled</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Optional</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">reason</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;disabled : test=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getDisplayName</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, reason=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">reason</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">orElse</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;&lt;empty&gt;&#34;</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">testSuccessful</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;successful : test=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getDisplayName</span><span style="color:#ce5c00;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">testAborted</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Throwable</span> <span style="color:#000">cause</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;aborted : test=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getDisplayName</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, cause=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">cause</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">testFailed</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Throwable</span> <span style="color:#000">cause</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;failed : test=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getDisplayName</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, cause=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">cause</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">afterEach</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;AfterEachCallback&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>앞에서 만든 확장 클래스를 지정하며 만든 테스트 클래스는 아래와 같다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">com.devkuma.junit5.extention</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.Disabled</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.Test</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ExtendWith</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import static</span> <span style="color:#000">org.junit.jupiter.api.Assertions.assertEquals</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import static</span> <span style="color:#000">org.junit.jupiter.api.Assumptions.assumeTrue</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#5c35cc;font-weight:bold">@ExtendWith</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">MyTestWatcher</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyTestWatcherTest</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">testSuccessful</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;testSuccessful()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">assertEquals</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">10</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">10</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">testFailed</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;testFailed()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">assertEquals</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">10</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">20</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Disabled</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;REASON&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">testDisabled</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;testDisabled()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">testAborted</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;testAborted()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">assumeTrue</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">false</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;test abort&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>실행 결과:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>testAborted()
</span></span><span style="display:flex;"><span>AfterEachCallback
</span></span><span style="display:flex;"><span>aborted : test=testAborted(), cause=org.opentest4j.TestAbortedException: Assumption failed: test abort
</span></span><span style="display:flex;"><span>testSuccessful()
</span></span><span style="display:flex;"><span>AfterEachCallback
</span></span><span style="display:flex;"><span>successful : test=testSuccessful()
</span></span><span style="display:flex;"><span>disabled : test=testDisabled(), reason=REASON
</span></span><span style="display:flex;"><span>testFailed()
</span></span><span style="display:flex;"><span>AfterEachCallback
</span></span><span style="display:flex;"><span>failed : test=testFailed(), cause=org.opentest4j.AssertionFailedError: expected: &lt;10&gt; but was: &lt;20&gt;
</span></span></code></pre></div><ul>
<li><code>TestWatcher</code>에는 다음의 4개의 메소드가 정의되고 있다.
<ul>
<li><code>testDisabled()</code>
<ul>
<li>테스트가 유효하지 않을 때 실행된다.</li>
</ul>
</li>
<li><code>testSuccessful()</code>
<ul>
<li>테스트가 성공할 때 실행된다.</li>
</ul>
</li>
<li><code>testAborted()</code>
<ul>
<li>테스트가 중단(<code>assumeThat()</code> 등)될 때 실행된다.</li>
</ul>
</li>
<li><code>testFailed()</code>
<ul>
<li>테스트가 실패할 때 실행된다.</li>
</ul>
</li>
</ul>
</li>
<li>각 메소드는 내용이 빈어 있는 <code>default</code> 메소드로 정의된다.
<ul>
<li>따라서 디폴트로 아무것도 처리되지 않는다.</li>
<li>필요에 따라 각 메소드를 오버라이드(override)하여 구체적인 구현을 기술한다.</li>
</ul>
</li>
<li>각 메소드는 <code>AfterEachCallback</code> 이후에 실행된다.</li>
</ul>
<h2 id="테스트에서-발생한-예외-처리">테스트에서 발생한 예외 처리</h2>
<p><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/TestExecutionExceptionHandler.html" target="_blank" rel="noopener">TestExecutionExceptionHandler<i class="fas fa-external-link-alt"></i></a>를 사용하면 테스트에서 발생한 예외를 핸들링 처리할 수 있다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">com.devkuma.junit5.extention</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.TestExecutionExceptionHandler</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyTestExecutionExceptionHandler</span> <span style="color:#204a87;font-weight:bold">implements</span> <span style="color:#000">TestExecutionExceptionHandler</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">handleTestExecutionException</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Throwable</span> <span style="color:#000">throwable</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Throwable</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34; * throwable=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">throwable</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">throwable</span> <span style="color:#204a87;font-weight:bold">instanceof</span> <span style="color:#000">NullPointerException</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#000">throwable</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span> <span style="color:#204a87;font-weight:bold">else</span> <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">throwable</span> <span style="color:#204a87;font-weight:bold">instanceof</span> <span style="color:#000">IllegalStateException</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">UnsupportedOperationException</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;test&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><ul>
<li><code>NullPointerException</code>를 받으면 그대로 <code>throw</code>를 한다.</li>
<li><code>IllegalStateException</code>를 받으면 <code>UnsupportedOperationException</code>를 생성해서 <code>throw</code>를 한다.</li>
<li>둘 다 아니면, 아무것도하지 않고 종료한다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">com.devkuma.junit5.extention</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.Test</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ExtendWith</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.io.IOException</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import static</span> <span style="color:#000">org.junit.jupiter.api.Assertions.assertEquals</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#5c35cc;font-weight:bold">@ExtendWith</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">MyTestExecutionExceptionHandler</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyTestExecutionExceptionHandlerTest</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">success</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;success()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">assertEquals</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">10</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">10</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">fail</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;fail()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">assertEquals</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">10</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">20</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">throwsIOException</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;throwsIOException()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">IOException</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;test&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">throwsNullPointerException</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;throwsNullPointerException()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">NullPointerException</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;test&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">throwsIllegalStateException</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;throwsIllegalStateException()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">IllegalStateException</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;test&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>실행 결과: <em>이번에는 ConsoleLauncher를 사용하여 테스트를 실행시켰다.</em></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>% java -jar junit-platform-console-standalone-1.9.1.jar <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>        -cp build/classes/java/test <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>        -c com.devkuma.junit5.extention.MyTestExecutionExceptionHandlerTest
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>success<span style="color:#ce5c00;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>fail<span style="color:#ce5c00;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span> * <span style="color:#000">throwable</span><span style="color:#ce5c00;font-weight:bold">=</span>org.opentest4j.AssertionFailedError: expected: &lt;10&gt; but was: &lt;20&gt;
</span></span><span style="display:flex;"><span>throwsNullPointerException<span style="color:#ce5c00;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span> * <span style="color:#000">throwable</span><span style="color:#ce5c00;font-weight:bold">=</span>java.lang.NullPointerException: <span style="color:#204a87">test</span>
</span></span><span style="display:flex;"><span>throwsIllegalStateException<span style="color:#ce5c00;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span> * <span style="color:#000">throwable</span><span style="color:#ce5c00;font-weight:bold">=</span>java.lang.IllegalStateException: <span style="color:#204a87">test</span>
</span></span><span style="display:flex;"><span>throwsIOException<span style="color:#ce5c00;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span> * <span style="color:#000">throwable</span><span style="color:#ce5c00;font-weight:bold">=</span>java.io.IOException: <span style="color:#204a87">test</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Thanks <span style="color:#204a87;font-weight:bold">for</span> using JUnit! Support its development at https://junit.org/sponsoring
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>╷
</span></span><span style="display:flex;"><span>├─ JUnit Jupiter ✔
</span></span><span style="display:flex;"><span>│  └─ MyTestExecutionExceptionHandlerTest ✔
</span></span><span style="display:flex;"><span>│     ├─ success<span style="color:#ce5c00;font-weight:bold">()</span> ✔
</span></span><span style="display:flex;"><span>│     ├─ fail<span style="color:#ce5c00;font-weight:bold">()</span> ✔
</span></span><span style="display:flex;"><span>│     ├─ throwsNullPointerException<span style="color:#ce5c00;font-weight:bold">()</span> ✘ <span style="color:#204a87">test</span>
</span></span><span style="display:flex;"><span>│     ├─ throwsIllegalStateException<span style="color:#ce5c00;font-weight:bold">()</span> ✘ <span style="color:#204a87">test</span>
</span></span><span style="display:flex;"><span>│     └─ throwsIOException<span style="color:#ce5c00;font-weight:bold">()</span> ✔
</span></span><span style="display:flex;"><span>├─ JUnit Vintage ✔
</span></span><span style="display:flex;"><span>└─ JUnit Platform Suite ✔
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Failures <span style="color:#ce5c00;font-weight:bold">(</span>2<span style="color:#ce5c00;font-weight:bold">)</span>:
</span></span><span style="display:flex;"><span>  JUnit Jupiter:MyTestExecutionExceptionHandlerTest:throwsNullPointerException<span style="color:#ce5c00;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>    MethodSource <span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#000">className</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#39;com.devkuma.junit5.extention.MyTestExecutionExceptionHandlerTest&#39;</span>, <span style="color:#000">methodName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#39;throwsNullPointerException&#39;</span>, <span style="color:#000">methodParameterTypes</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#39;&#39;</span><span style="color:#ce5c00;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">=</span>&gt; java.lang.NullPointerException: <span style="color:#204a87">test</span>
</span></span><span style="display:flex;"><span>       ...
</span></span><span style="display:flex;"><span>  JUnit Jupiter:MyTestExecutionExceptionHandlerTest:throwsIllegalStateException<span style="color:#ce5c00;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>    MethodSource <span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#000">className</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#39;com.devkuma.junit5.extention.MyTestExecutionExceptionHandlerTest&#39;</span>, <span style="color:#000">methodName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#39;throwsIllegalStateException&#39;</span>, <span style="color:#000">methodParameterTypes</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#39;&#39;</span><span style="color:#ce5c00;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">=</span>&gt; java.lang.UnsupportedOperationException: <span style="color:#204a87">test</span>
</span></span><span style="display:flex;"><span>       com.devkuma.junit5.extention.MyTestExecutionExceptionHandler.handleTestExecutionException<span style="color:#ce5c00;font-weight:bold">(</span>MyTestExecutionExceptionHandler.java:14<span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>       ...
</span></span></code></pre></div><ul>
<li>테스트에서 예외가 발생하면 <code>handleTestExecutionException()</code>가 호출된다.
<ul>
<li>두 번째 인수로 <code>throw</code>된 예외를 받을 수 있다.</li>
<li>이 메소드가 예외를 <code>throw</code> 하면 테스트는 실패를 하게 된다.</li>
<li>아무것도 예외를 <code>throw</code>하지 않고 종료하게 되면, 테스트는 성공이 된다(예외가 파악된다).</li>
<li>받은 예외와는 다른 예외를 던지는 것도 가능하다.</li>
</ul>
</li>
<li>단언문 에러(<code>AssertionFailedError</code>)도 대상이므로 주의가 필요하다.
<ul>
<li>다시 <code>throw</code>하는 것을 잊으면, 단언문 에러가 발생한다.</li>
</ul>
</li>
</ul>
<h2 id="라이프-사이클-메서드에서-throw된-예외-처리">라이프 사이클 메서드에서 throw된 예외 처리</h2>
<p><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/TestExecutionExceptionHandler.html" target="_blank" rel="noopener"><code>LifecycleMethodExecutionExceptionHandler</code><i class="fas fa-external-link-alt"></i></a>를 사용하면 라이프 사이클 메소드에서 발생한 예외를 처리 할 수 ​​있다.</p>
<p>먼저 확장 모델로 예외가 발생시 처리를 비교하기 위해 <code>TestExecutionExceptionHandler</code>와 <code>MyLifecycleMethodExecutionExceptionHandler</code>를 2개를 준비한다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">com.devkuma.junit5.extention</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.TestExecutionExceptionHandler</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyTestExecutionExceptionHandler2</span> <span style="color:#204a87;font-weight:bold">implements</span> <span style="color:#000">TestExecutionExceptionHandler</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">handleTestExecutionException</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Throwable</span> <span style="color:#000">throwable</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Throwable</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;[TestExecutionExceptionHandler] throwable=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">throwable</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">com.devkuma.junit5.extention</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.LifecycleMethodExecutionExceptionHandler</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyLifecycleMethodExecutionExceptionHandler</span> <span style="color:#204a87;font-weight:bold">implements</span> <span style="color:#000">LifecycleMethodExecutionExceptionHandler</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">handleBeforeEachMethodExecutionException</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Throwable</span> <span style="color:#000">throwable</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Throwable</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;[LifecycleMethodExecutionExceptionHandler] throwable=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">throwable</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#000">throwable</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">handleAfterEachMethodExecutionException</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Throwable</span> <span style="color:#000">throwable</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Throwable</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;[LifecycleMethodExecutionExceptionHandler] throwable=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">throwable</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>앞에서 만든 확장 모델 클래스를 지정하며 만든 테스트 클래스는 아래와 같다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">com.devkuma.junit5.extention</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.*</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ExtendWith</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyLifecycleMethodExecutionExceptionHandlerTest</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Nested</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">InnerClass1</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>        <span style="color:#5c35cc;font-weight:bold">@DisplayName</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;일반적인 라이프사이클 메서드에서 예외가 throw 된 경우&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">test</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;InnerClass1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Nested</span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@ExtendWith</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">MyLifecycleTestExecutionExceptionHandler</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">InnerClass2</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>        <span style="color:#5c35cc;font-weight:bold">@DisplayName</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TestExecutionExceptionHandler 는 라이프사이클 메소드로 슬로우 된 예외에 대해서 어떻게 동작할까?&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">test</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;InnerClass2&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Nested</span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@ExtendWith</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">MyLifecycleMethodExecutionExceptionHandler</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">InnerClass3</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>        <span style="color:#5c35cc;font-weight:bold">@DisplayName</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;라이프사이클 메소드로 throw 된 예외를 LifecycleMethodExecutionExceptionHandler 로 잡았을 경우&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">test</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;InnerClass3&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Nested</span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@ExtendWith</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">MyLifecycleMethodExecutionExceptionHandler</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">InnerClass4</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#5c35cc;font-weight:bold">@BeforeEach</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">beforeEach</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">TestInfo</span> <span style="color:#000">testInfo</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">RuntimeException</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;beforeEach@&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">simpleClassName</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">testInfo</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>        <span style="color:#5c35cc;font-weight:bold">@DisplayName</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;라이프사이클 메소드로 throw 된 예외를 LifecycleMethodExecutionExceptionHandler 로 잡지 않은 경우&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">test</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;InnerClass4&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@AfterEach</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">afterEach</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">TestInfo</span> <span style="color:#000">testInfo</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">RuntimeException</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;afterEach@&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">simpleClassName</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">testInfo</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#000">String</span> <span style="color:#000">simpleClassName</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">TestInfo</span> <span style="color:#000">testInfo</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">testInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getTestClass</span><span style="color:#ce5c00;font-weight:bold">().</span><span style="color:#c4a000">map</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Class</span><span style="color:#ce5c00;font-weight:bold">::</span><span style="color:#000">getSimpleName</span><span style="color:#ce5c00;font-weight:bold">).</span><span style="color:#c4a000">orElse</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;&lt;empty&gt;&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>실행 결과:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>% java -jar junit-platform-console-standalone-1.9.1.jar <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>        -cp build/classes/java/test <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>        -c com.devkuma.junit5.extention.MyLifecycleMethodExecutionExceptionHandlerTest
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>LifecycleMethodExecutionExceptionHandler<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#000">throwable</span><span style="color:#ce5c00;font-weight:bold">=</span>java.lang.RuntimeException: beforeEach@InnerClass4
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>LifecycleMethodExecutionExceptionHandler<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#000">throwable</span><span style="color:#ce5c00;font-weight:bold">=</span>java.lang.RuntimeException: afterEach@InnerClass4
</span></span><span style="display:flex;"><span>InnerClass3
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>LifecycleMethodExecutionExceptionHandler<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#000">throwable</span><span style="color:#ce5c00;font-weight:bold">=</span>java.lang.RuntimeException: afterEach@InnerClass3
</span></span><span style="display:flex;"><span>InnerClass2
</span></span><span style="display:flex;"><span>InnerClass1
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Thanks <span style="color:#204a87;font-weight:bold">for</span> using JUnit! Support its development at https://junit.org/sponsoring
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>╷
</span></span><span style="display:flex;"><span>├─ JUnit Jupiter ✔
</span></span><span style="display:flex;"><span>│  └─ MyLifecycleMethodExecutionExceptionHandlerTest ✔
</span></span><span style="display:flex;"><span>│     ├─ InnerClass4 ✔
</span></span><span style="display:flex;"><span>│     │  └─ 라이프사이클 메소드로 throw 된 예외를 LifecycleMethodExecutionExceptionHandler 로 잡지 않았던 경우 ✘ beforeEach@InnerClass4
</span></span><span style="display:flex;"><span>│     ├─ InnerClass3 ✔
</span></span><span style="display:flex;"><span>│     │  └─ 라이프사이클 메소드로 throw 된 예외를 LifecycleMethodExecutionExceptionHandler 로 잡지 않은 경우 ✔
</span></span><span style="display:flex;"><span>│     ├─ InnerClass2 ✔
</span></span><span style="display:flex;"><span>│     │  └─ TestExecutionExceptionHandler 는 라이프사이클 메소드로 슬로우 된 예외에 대해서 어떻게 동작할까? ✘ afterEach@InnerClass2
</span></span><span style="display:flex;"><span>│     └─ InnerClass1 ✔
</span></span><span style="display:flex;"><span>│        └─ 일반적인 라이프사이클 메서드에서 예외가 throw된 경우 ✘ afterEach@InnerClass1
</span></span><span style="display:flex;"><span>├─ JUnit Vintage ✔
</span></span><span style="display:flex;"><span>└─ JUnit Platform Suite ✔
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>...
</span></span></code></pre></div><ul>
<li><code>LifecycleMethodExecutionExceptionHandler</code>를 사용하면 라이프 사이클 메소드에서도 발생한 예외를 처리를 할 수 있다.
<ul>
<li>앞전에서 설명한 <code>TestExecutionExceptionHandler</code>는 어디까지나 테스트 메소드 본체에서 예외가 발생했을 경우만 핸들링할 수 있다.</li>
<li><code>TestExecutionExceptionHandler</code>는 라이프 사이클 메소드에서 예외가 발생하면 콜백되지 않는다.</li>
</ul>
</li>
<li><code>LifecycleMethodExecutionExceptionHandler</code>에는 네 가지 방법이 정의되어 있다.
<ul>
<li>각 메소드는 각각 <code>@BeforeAll</code>, <code>@BeforeEach</code>, <code>@AfterEach</code>, <code>@AfterAll</code>에 대응된다.</li>
<li>라이크 사이클 메서드에서 예외가 발생하면 해당 메서드가 호출된다.</li>
<li>각 메소드는 디폴트 메소드로 정의되고 있어 디폴트에서는 받은 예외를 그대로 슬로우 해 재하게 되어 있다.</li>
</ul>
</li>
<li><code>TestExecutionExceptionHandler</code>의 경우와 마찬가지로 인수로 받은 예외를 다시 <code>throw</code>를 하지 않으면 예외를 잡을 수 있다.</li>
</ul>
<h2 id="동일한-테스트를-다른-컨텍스트에서-실행">동일한 테스트를 다른 컨텍스트에서 실행</h2>
<p><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/TestTemplateInvocationContextProvider.html" target="_blank" rel="noopener"><code>TestTemplateInvocationContextProvider</code><i class="fas fa-external-link-alt"></i></a>를 사용하면 동일한 테스트 메서드를 다른 컨텍스트에서 여러 번 실행할 수 있다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">MyTestTemplateInvocationContextProvider</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">sample.junit5.extension</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.TestTemplateInvocationContext</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.TestTemplateInvocationContextProvider</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.stream.Stream</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyTestTemplateInvocationContextProvider</span> <span style="color:#204a87;font-weight:bold">implements</span> <span style="color:#000">TestTemplateInvocationContextProvider</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">boolean</span> <span style="color:#000">supportsTestTemplate</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;[supportsTestTemplate] displayName=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getDisplayName</span><span style="color:#ce5c00;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getDisplayName</span><span style="color:#ce5c00;font-weight:bold">().</span><span style="color:#c4a000">equals</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;test1()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#000">Stream</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">TestTemplateInvocationContext</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">provideTestTemplateInvocationContexts</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;[provideTestTemplateInvocationContexts] displayName=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getDisplayName</span><span style="color:#ce5c00;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">Stream</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">of</span><span style="color:#ce5c00;font-weight:bold">(</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">MyTestTemplateInvocationContext</span><span style="color:#ce5c00;font-weight:bold">(),</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">MyTestTemplateInvocationContext</span><span style="color:#ce5c00;font-weight:bold">(),</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">MyTestTemplateInvocationContext</span><span style="color:#ce5c00;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyTestTemplateInvocationContext</span> <span style="color:#204a87;font-weight:bold">implements</span> <span style="color:#000">TestTemplateInvocationContext</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>JUnit5Test</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">sample.junit5</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.Test</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.TestTemplate</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ExtendWith</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">sample.junit5.extension.MyTestTemplateInvocationContextProvider</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#5c35cc;font-weight:bold">@ExtendWith</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">MyTestTemplateInvocationContextProvider</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">JUnit5Test</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@TestTemplate</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">test1</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;test1()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@TestTemplate</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">test2</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;test2()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">test3</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;test3()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>실행 결과:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>% java -jar junit-platform-console-standalone-1.9.1.jar <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>        -cp build/classes/java/test <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>        -c com.devkuma.junit5.extention.MyTestTemplateInvocationContextProviderTest
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>supportsTestTemplate<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#000">displayName</span><span style="color:#ce5c00;font-weight:bold">=</span>test1<span style="color:#ce5c00;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>provideTestTemplateInvocationContexts<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#000">displayName</span><span style="color:#ce5c00;font-weight:bold">=</span>test1<span style="color:#ce5c00;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>test1<span style="color:#ce5c00;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>test1<span style="color:#ce5c00;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>test1<span style="color:#ce5c00;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>supportsTestTemplate<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#000">displayName</span><span style="color:#ce5c00;font-weight:bold">=</span>test2<span style="color:#ce5c00;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>test3<span style="color:#ce5c00;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Thanks <span style="color:#204a87;font-weight:bold">for</span> using JUnit! Support its development at https://junit.org/sponsoring
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>╷
</span></span><span style="display:flex;"><span>├─ JUnit Jupiter ✔
</span></span><span style="display:flex;"><span>│  └─ MyTestTemplateInvocationContextProviderTest ✔
</span></span><span style="display:flex;"><span>│     ├─ test1<span style="color:#ce5c00;font-weight:bold">()</span> ✔
</span></span><span style="display:flex;"><span>│     │  ├─ <span style="color:#ce5c00;font-weight:bold">[</span>1<span style="color:#ce5c00;font-weight:bold">]</span> ✔
</span></span><span style="display:flex;"><span>│     │  ├─ <span style="color:#ce5c00;font-weight:bold">[</span>2<span style="color:#ce5c00;font-weight:bold">]</span> ✔
</span></span><span style="display:flex;"><span>│     │  └─ <span style="color:#ce5c00;font-weight:bold">[</span>3<span style="color:#ce5c00;font-weight:bold">]</span> ✔
</span></span><span style="display:flex;"><span>│     ├─ test2<span style="color:#ce5c00;font-weight:bold">()</span> ✘ You must register at least one TestTemplateInvocationContextProvider that supports @TestTemplate method <span style="color:#ce5c00;font-weight:bold">[</span>void com.devkuma.junit5.extention.MyTestTemplateInvocationContextProviderTest.test2<span style="color:#ce5c00;font-weight:bold">()]</span>
</span></span><span style="display:flex;"><span>│     └─ test3<span style="color:#ce5c00;font-weight:bold">()</span> ✔
</span></span><span style="display:flex;"><span>├─ JUnit Vintage ✔
</span></span><span style="display:flex;"><span>└─ JUnit Platform Suite ✔
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Failures <span style="color:#ce5c00;font-weight:bold">(</span>1<span style="color:#ce5c00;font-weight:bold">)</span>:
</span></span><span style="display:flex;"><span>  JUnit Jupiter:MyTestTemplateInvocationContextProviderTest:test2<span style="color:#ce5c00;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>    MethodSource <span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#000">className</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#39;com.devkuma.junit5.extention.MyTestTemplateInvocationContextProviderTest&#39;</span>, <span style="color:#000">methodName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#39;test2&#39;</span>, <span style="color:#000">methodParameterTypes</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#39;&#39;</span><span style="color:#ce5c00;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">=</span>&gt; org.junit.platform.commons.PreconditionViolationException: You must register at least one TestTemplateInvocationContextProvider that supports @TestTemplate method <span style="color:#ce5c00;font-weight:bold">[</span>void com.devkuma.junit5.extention.MyTestTemplateInvocationContextProviderTest.test2<span style="color:#ce5c00;font-weight:bold">()]</span>
</span></span><span style="display:flex;"><span>...
</span></span></code></pre></div><ul>
<li>다른 컨텍스트에서 실행하려는 테스트는 <code>@TestTemplate</code>으로 어노테이션을 지정을 해야 한다.</li>
<li><code>@TestTemplate</code>이 설정된 각 메소드에 대해 <code>TestTemplateInvocationContextProvider</code>의 <code>supportsTestTemplate()</code>이 호출된다.
<ul>
<li>대상의 테스트를 처리 대상으로 하는 경우 즉 지원을 하고 있는 경우라면 <code>true</code>를 반환하도록 구현한다.</li>
<li><code>@TestTemplate</code>를 설정하는 동안 지원하는 <code>TestTemplateInvocationContextProvider</code>가 1개라도 존재하지 않으면 에러가 발생한다.</li>
</ul>
</li>
<li>지원한다면 <code>provideTestTemplateInvocationContexts()</code>이 호출된다.
<ul>
<li>이 메서드는 <code>TestTemplateInvocationContext</code>의 <code>Stream</code>을 반환하도록 구현한다.</li>
<li><code>TestTemplateInvocationContext</code>이 테스트를 실행할 때 하나의 컨텍스트를 나타낸다.</li>
<li>여러 컨텍스트에서 실행하는 경우는 여러 요소를 반환하도록 <code>Stream</code>을 구축한다.</li>
<li>위의 구현 예제에서는 2개의 <code>MyTestTemplateInvocationContext</code>를 갖는 <code>Stream</code>을 반환하기에, <code>test1()</code> 메서드가 3번(3개의 컨텍스트)이 실행된다.</li>
</ul>
</li>
</ul>
<h3 id="컨텍스트에서-표시-이름-지정">컨텍스트에서 표시 이름 지정</h3>
<p><code>TestTemplateInvocationContext</code>에는 <code>getDisplayName()</code> 메소드가 정의되어 있다. 이 메소드를 재정의하면 표시될 임의의 테스트 이름을 지정할 수 있다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">com.devkuma.junit5.extention</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.TestTemplateInvocationContext</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.TestTemplateInvocationContextProvider</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.stream.Stream</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyTestTemplateInvocationContextProvider</span> <span style="color:#204a87;font-weight:bold">implements</span> <span style="color:#000">TestTemplateInvocationContextProvider</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">boolean</span> <span style="color:#000">supportsTestTemplate</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;[supportsTestTemplate] displayName=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getDisplayName</span><span style="color:#ce5c00;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getDisplayName</span><span style="color:#ce5c00;font-weight:bold">().</span><span style="color:#c4a000">equals</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;test1()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#000">Stream</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">TestTemplateInvocationContext</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">provideTestTemplateInvocationContexts</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;[provideTestTemplateInvocationContexts] displayName=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getDisplayName</span><span style="color:#ce5c00;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">Stream</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">of</span><span style="color:#ce5c00;font-weight:bold">(</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">MyTestTemplateInvocationContext</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;testName1&#34;</span><span style="color:#ce5c00;font-weight:bold">),</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">MyTestTemplateInvocationContext</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;testName2&#34;</span><span style="color:#ce5c00;font-weight:bold">),</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">MyTestTemplateInvocationContext</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;testName3&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyTestTemplateInvocationContext</span> <span style="color:#204a87;font-weight:bold">implements</span> <span style="color:#000">TestTemplateInvocationContext</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">private</span> <span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">String</span> <span style="color:#000">name</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#000">MyTestTemplateInvocationContext</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span> <span style="color:#000">name</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">this</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">name</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#000">String</span> <span style="color:#000">getDisplayName</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">invocationIndex</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#204a87;font-weight:bold">this</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">name</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;[&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">invocationIndex</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;]&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>실행 결과:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>│  └─ MyTestTemplateInvocationContextProviderTest ✔
</span></span><span style="display:flex;"><span>│     ├─ test1() ✔
</span></span><span style="display:flex;"><span>│     │  ├─ testName1[1] ✔
</span></span><span style="display:flex;"><span>│     │  ├─ testName2[2] ✔
</span></span><span style="display:flex;"><span>│     │  └─ testName3[3] ✔
</span></span><span style="display:flex;"><span>...
</span></span></code></pre></div><ul>
<li><code>getDisplayName()</code> 이 메소드는 디폴트 메소드로 정의되고 있어 디폴트 구현에서는 <code>&quot;[&quot; + invocationIndex + &quot;]&quot;</code>를 반환하도록 되어 있다.
<ul>
<li><code>invocationIndex</code>는 현재 컨텍스트의 인덱스(1부터 시작)가 전달된다.</li>
</ul>
</li>
<li>이 메소드를 오버라이드(override) 하는 것으로, 임의의 표시명을 반환되게 할 수 있게 된다.</li>
</ul>
<h3 id="컨텍스트마다-임의의-확장-추가">컨텍스트마다 임의의 확장 추가</h3>
<p><code>TestTemplateInvocationContext</code>에는 <code>getAdditionalExtensions()</code> 메소드가 정의되어 있다. 이 메소드를 재정의하면 원하는 확장을 임의로 추가 지정할 수 있다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">com.devkuma.junit5.extention</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.*</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.List</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.stream.Stream</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyTestTemplateInvocationContextProvider</span> <span style="color:#204a87;font-weight:bold">implements</span> <span style="color:#000">TestTemplateInvocationContextProvider</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">boolean</span> <span style="color:#000">supportsTestTemplate</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;[supportsTestTemplate] displayName=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getDisplayName</span><span style="color:#ce5c00;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getDisplayName</span><span style="color:#ce5c00;font-weight:bold">().</span><span style="color:#c4a000">equals</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;test1()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#000">Stream</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">TestTemplateInvocationContext</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">provideTestTemplateInvocationContexts</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;[provideTestTemplateInvocationContexts] displayName=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getDisplayName</span><span style="color:#ce5c00;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">Stream</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">of</span><span style="color:#ce5c00;font-weight:bold">(</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">MyTestTemplateInvocationContext</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;BeforeEach&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">BeforeEachCallback</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#000">ctx</span> <span style="color:#ce5c00;font-weight:bold">-&gt;</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;beforeEachCallback()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>                <span style="color:#ce5c00;font-weight:bold">}),</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">MyTestTemplateInvocationContext</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;AfterEach&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">AfterEachCallback</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#000">ctx</span> <span style="color:#ce5c00;font-weight:bold">-&gt;</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;afterEachCallback()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>                <span style="color:#ce5c00;font-weight:bold">})</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyTestTemplateInvocationContext</span> <span style="color:#204a87;font-weight:bold">implements</span> <span style="color:#000">TestTemplateInvocationContext</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">private</span> <span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">String</span> <span style="color:#000">name</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">private</span> <span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">Extension</span> <span style="color:#000">extension</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#000">MyTestTemplateInvocationContext</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span> <span style="color:#000">name</span><span style="color:#ce5c00;font-weight:bold">,</span>  <span style="color:#000">Extension</span> <span style="color:#000">extension</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">this</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">name</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">this</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">extension</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">extension</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#000">String</span> <span style="color:#000">getDisplayName</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">invocationIndex</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#204a87;font-weight:bold">this</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">name</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Extension</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">getAdditionalExtensions</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">of</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">this</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">extension</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>실행 결과:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>[supportsTestTemplate] displayName=test1()
</span></span><span style="display:flex;"><span>[provideTestTemplateInvocationContexts] displayName=test1()
</span></span><span style="display:flex;"><span>beforeEachCallback()
</span></span><span style="display:flex;"><span>test1()
</span></span><span style="display:flex;"><span>test1()
</span></span><span style="display:flex;"><span>afterEachCallback()
</span></span><span style="display:flex;"><span>[supportsTestTemplate] displayName=test2()
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>├─ JUnit Jupiter ✔
</span></span><span style="display:flex;"><span>│  └─ MyTestTemplateInvocationContextProviderTest ✔
</span></span><span style="display:flex;"><span>│     ├─ test1() ✔
</span></span><span style="display:flex;"><span>│     │  ├─ BeforeEach ✔
</span></span><span style="display:flex;"><span>│     │  └─ AfterEach ✔
</span></span></code></pre></div><ul>
<li><code>getAdditionalExtensions()</code> 이 메소드는 그 문맥으로 사용하는 확장 기능을 <code>List&lt;Extension&gt;</code>로 반환한다.
<ul>
<li>이 메소드도 디폴트 메소드로 디폴트 구현에서는 비어 있는 <code>List&lt;Extension&gt;</code>를 반환하도록 되어 있다.</li>
</ul>
</li>
<li>위에 구현된 예제에서는 첫번째 컨텍스트에서는 <code>BeforeEachCallback</code>을, 두번째 컨텍스트에서는 <code>AfterEachCallbak</code>을 설정하도록 구현되어 있다.</li>
<li><code>ParameterResolver</code>를 적용하면, 컨텍스트마다 다른 파라미터를 전달하여 같은 테스트 메소드를 실행하도록 할 수 있다.</li>
</ul>
<h2 id="확장-기능을-절차적으로-등록">확장 기능을 절차적으로 등록</h2>
<p><code>@ExtendWith</code>을 사용하는 방법의 경우 확장 기능 클래스의 조정은 기본적으로 정적이다.</p>
<ul>
<li>확장 기능을 구현한 클래스의 인스턴스는 Jupiter 에 의해 안에서 생성된다.</li>
<li>그러기 때문에, 확장 기능 클래스의 인스턴스에 대해서 세세한 조정은 기본적으로 할 수 없다.</li>
</ul>
<p>반면에 <code>@RegisterExtension</code>을 사용하면 확장 클래스의 조정을 동적으로 지정할 수 있다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">sample.junit5.extension</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.BeforeAllCallback</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.BeforeEachCallback</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyRegisterExtension</span> <span style="color:#204a87;font-weight:bold">implements</span> <span style="color:#000">BeforeEachCallback</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">BeforeAllCallback</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">private</span> <span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">String</span> <span style="color:#000">name</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#000">MyRegisterExtension</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span> <span style="color:#000">name</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">this</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">name</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">beforeAll</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;[&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#204a87;font-weight:bold">this</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">name</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;] beforeAll()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">beforeEach</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;[&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#204a87;font-weight:bold">this</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">name</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;] beforeEach()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>JUnit5Test</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">sample.junit5</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.BeforeAll</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.BeforeEach</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.Test</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.RegisterExtension</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">sample.junit5.extension.MyRegisterExtension</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">JUnit5Test</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@RegisterExtension</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#000">MyRegisterExtension</span> <span style="color:#000">classField</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">MyRegisterExtension</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;classField&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@RegisterExtension</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">MyRegisterExtension</span> <span style="color:#000">instanceField</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">MyRegisterExtension</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;instanceField&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@BeforeAll</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">beforeAll</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;beforeAll()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@BeforeEach</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">beforeEach</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;beforeEach()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">test1</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;test1()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>실행 결과:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>[classField] beforeAll()
</span></span><span style="display:flex;"><span>beforeAll()
</span></span><span style="display:flex;"><span>[classField] beforeEach()
</span></span><span style="display:flex;"><span>[instanceField] beforeEach()
</span></span><span style="display:flex;"><span>beforeEach()
</span></span><span style="display:flex;"><span>test1()
</span></span></code></pre></div><ul>
<li>사용할 확장 클래스의 인스턴스를 확장을 사용하려는 테스트 클래스의 필드(<code>static</code> or 인스턴스)로 선언한다.
<ul>
<li>이 필드를 <code>@RegisterExtension</code>으로 어노테이션을 지정하면 해당 필드에 설정된 인스턴스를 확장으로 등록할 수 있다.</li>
<li>필드에 대한 인스턴스 설정은 모든 프로그램에서 작성할 수 있으므로 자유롭게 조정된 인스턴스를 사용할 수 있다.</li>
</ul>
</li>
<li><code>static</code>으로 선언한 필드를 사용한 경우는 모든 확장 프로그램을 사용할 수 있다.</li>
<li>인스턴스 필드를 사용하는 경우 <code>BeforeAllCallback</code>와 같은 클래스 수준 확장 기능과 <code>TestInstancePostProcessor</code>와 같은 인스턴스 수준 확장 기능을 사용할 수 없다.
<ul>
<li>구현하더라도 무시된다.</li>
<li><code>BeforeEachCallback</code>와 같은 메소드 레벨 확장 기능을 사용할 수 있다.</li>
</ul>
</li>
</ul>
<h2 id="serviceloader를-사용하여-자동으로-등록">ServiceLoader를 사용하여 자동으로 등록</h2>
<p>확장 기능은 <code>ServiceLoader</code> 메커니즘을 사용하여 자동으로 등록할 수도 있다.</p>
<p>먼저, 클래스 경로 아래에 <code>/META-INF/services/</code> 디렉터리를 만들고 그 안에 <code>org.junit.jupiter.api.extension.Extension</code>라는 파일을 생성한다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>└── src
</span></span><span style="display:flex;"><span>    └── test
</span></span><span style="display:flex;"><span>        ├── java
</span></span><span style="display:flex;"><span>        │   └── com
</span></span><span style="display:flex;"><span>        │       └── devkuma
</span></span><span style="display:flex;"><span>        │           └── junit5
</span></span><span style="display:flex;"><span>        │               └── extention
</span></span><span style="display:flex;"><span>        │                   └── JUnit5Test.java
</span></span><span style="display:flex;"><span>        └── resources
</span></span><span style="display:flex;"><span>            ├── META-INF
</span></span><span style="display:flex;"><span>            │   └── services
</span></span><span style="display:flex;"><span>            │       └── org.junit.jupiter.api.extension.Extension
</span></span><span style="display:flex;"><span>            └── junit-platform.properties
</span></span></code></pre></div><p><code>org.junit.jupiter.api.extension.Extension</code> 파일 안에는 등록하려는 확장 기능 클래스의 전체 도메인 네임(FQDN(Fully Qualified Domain Name)을 넣는다.<br>
<strong>src/test/resources/META-INF/services/org.junit.jupiter.api.extension.Extension</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>com.devkuma.junit5.extention.MyServiceLoaderExtension
</span></span></code></pre></div><p>여러 개를 등록해야 하는 경우에는 줄바꿈으로 나열할 수도 있다.</p>
<p><code>ServiceLoader</code>를 사용하여 자동 등록을 사용하려면 구성 매개 변수 <code>junit.jupiter.extensions.autodetection.enabled</code>를 <code>true</code>로 지정해야 한다.
<strong>src/test/resources/junit-platform.properties</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#c4a000">junit.jupiter.extensions.autodetection.enabled</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">true</span>
</span></span></code></pre></div><p>설정 파일(<code>junit-platform.properties</code>)로 지정하는 방법외에도, 아래 옵션을 JVM 시스템 속성에서 지정하는 방법도 있다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>–Djunit.jupiter.extensions.autodetection.enabled<span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#204a87">true</span>
</span></span></code></pre></div><p>이제 등록하려는 확장 기능 클래스를 작성하여 넣는다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">MyServiceLoader</span><span style="color:#a40000">확장</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">sample.junit5.extension</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.BeforeEachCallback</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyServiceLoaderExtension</span> <span style="color:#204a87;font-weight:bold">implements</span> <span style="color:#000">BeforeEachCallback</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">beforeEach</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;MyServiceLoaderExtension.beforeEach()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>그러고 테스트 코드를 아래와 같이 작성해사 실행해 본다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">sample.junit5</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.Test</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">JUnit5Test</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">test1</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;test1()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>실행 결과:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>MyServiceLoaderExtension.beforeEach()
</span></span><span style="display:flex;"><span>test1()
</span></span></code></pre></div><p>결과를 보면 아무런 확정 기능을 추가하지 않은 일반 테스트 코드인데, <code>MyServiceLoaderExtension</code>의 <code>beforeEach()</code> 메소드가 실행되었다.</p>
<h2 id="extension간에-데이터-공유">Extension간에 데이터 공유</h2>
<p>어느 Extension이 실행될 때 기록한 정보를 다른 Extension이 실행될 때 참조하는 방법을 생각해 보자.</p>
<p>예를 들어, <code>BeforeEachCallback</code>에서 테스트 방법의 시작 시간을 기록해두고, <code>AfterEachCallback</code>에서 현재 시간과 시작 시간의 차이에서 실행 시간을 출력한다고 하자.</p>
<p>확장 기능을 단일 클래스로 만들고 있다면 손쉽게 인스턴스 변수를 사용하는 방법이 떠오른다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">com.devkuma.junit5.extention</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.AfterEachCallback</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.BeforeEachCallback</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyStopwatch</span> <span style="color:#204a87;font-weight:bold">implements</span> <span style="color:#000">BeforeEachCallback</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">AfterEachCallback</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">private</span> <span style="color:#204a87;font-weight:bold">long</span> <span style="color:#000">startTime</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">beforeEach</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">this</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">startTime</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">currentTimeMillis</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">afterEach</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">String</span> <span style="color:#000">displayName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getDisplayName</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">long</span> <span style="color:#000">endTime</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">currentTimeMillis</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">long</span> <span style="color:#000">time</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">endTime</span> <span style="color:#ce5c00;font-weight:bold">-</span> <span style="color:#204a87;font-weight:bold">this</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">startTime</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;[&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">displayName</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;] time=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">time</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34; (startTime=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#204a87;font-weight:bold">this</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">startTime</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, endTime=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">endTime</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>그럼 다음과 같이 테스트에 적용해 실행해 본다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">sample.junit5</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.Test</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ExtendWith</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">sample.junit5.extension.MyStopwatch</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.concurrent.TimeUnit</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#5c35cc;font-weight:bold">@ExtendWith</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">MyStopwatch</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">JUnit5Test</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">test1</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">TimeUnit</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">MILLISECONDS</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">sleep</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">200</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">test2</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">TimeUnit</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">MILLISECONDS</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">sleep</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">400</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">test3</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">TimeUnit</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">MILLISECONDS</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">sleep</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">600</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>실행 결과:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>[test1()] time=208 (startTime=1671963041718, endTime=1671963041926)
</span></span><span style="display:flex;"><span>[test2()] time=406 (startTime=1671963041943, endTime=1671963042349)
</span></span><span style="display:flex;"><span>[test3()] time=606 (startTime=1671963042353, endTime=1671963042959)
</span></span></code></pre></div><p>이것으로 동작은 되었다. 그러나 이 구현에는 문제가 있다.</p>
<p>이 테스트를 병렬로 실행해 보면 문제가 발생하게 된다.<br>
<strong>src/test/resources/junit-platform.properties</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#c4a000">junit.jupiter.execution.parallel.enabled</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">true</span>
</span></span><span style="display:flex;"><span><span style="color:#c4a000">junit.jupiter.execution.parallel.config.strategy</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">fixed</span>
</span></span><span style="display:flex;"><span><span style="color:#c4a000">junit.jupiter.execution.parallel.config.fixed.parallelism</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">2</span>
</span></span><span style="display:flex;"><span><span style="color:#c4a000">junit.jupiter.execution.parallel.mode.default</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">concurrent</span>
</span></span></code></pre></div><p>확실히 문제를 재현시키기 위하여 동시 병렬수를 2에 고정하였다.</p>
<p>실행 결과:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>[test1()] time=212 (startTime=1671963149057, endTime=1671963149269)
</span></span><span style="display:flex;"><span>[test3()] time=380 (startTime=1671963149287, endTime=1671963149667)
</span></span><span style="display:flex;"><span>[test2()] time=405 (startTime=1671963149287, endTime=1671963149692)
</span></span></code></pre></div><p><code>test3()</code>의 실행 시간이 300ms 정도가 되었다. 실제는 600ms <code>sleep(600)</code>을 실행했으면, 이 값은 있을 수 없다.</p>
<p>잘 보면, <code>test3()</code>와 <code>test2()</code>은 같은 <code>startTime</code> 값으로 되어 있는 것을 알 수 있다.<br>
이는 즉, <code>test3()</code>의 시간 측정에 사용한 <code>startTime</code>이, <code>test2()</code>의 시작 시간이 되어 버리고 있는 것을 의미한다.</p>
<p>이 문제가 발생하는 원인은 <code>startTime</code>의 공유를 <code>MyStopwatch</code>의 인스턴스 변수로 수행하는 것이다.<br>
<code>MyStopwatch</code>는 <code>MyStopwatchTest</code> 테스트가 실행되는 동안 동일한 인스턴스가 사용된다.<br>
즉, 각 테스트 메소드가 실행될 때 사용되는 <code>MyStopwatch</code>는 모두 동일한 인스턴스가 된다.</p>
<p><code>test3()</code>가 실행되면, <code>beforeEach()</code>시작 시간이 <code>startTime</code>에 기록된다.
그러나, 즉시 <code>test2()</code>병렬로 실행되고, <code>startTime</code> 값이 <code>test2()</code>의 시작 시간으로 덮어 쓰여진다.
그 결과로 인해 위와 같은 문제가 발생한다.</p>
<p>이와 같이, Extension 간의 데이터 공유에 구현 클래스의 인스턴스 변수를 사용하게 되면, 테스트의 실행 방법 나름으로 예기치 않은 문제가 일어날 가능성이 있다.
(그 밖에도 다른 문제가 발생할 패턴이 있을지도 모르지만, 우선 생각할 있는 것은 이와 같은 병렬 실행의 케이스 정도이다.)</p>
<h3 id="store-사용">Store 사용</h3>
<p>이 문제를 해결하기 위한 것인지는 모르지만, <code>Store</code>을 사용하면 병렬 실행되어도 문제가 발생하지 않도록 데이터 공유를 구현할 수 있다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">com.devkuma.junit5.extention</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.AfterEachCallback</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.BeforeEachCallback</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyStoreStopwatch</span> <span style="color:#204a87;font-weight:bold">implements</span> <span style="color:#000">BeforeEachCallback</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">AfterEachCallback</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">beforeEach</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">Store</span> <span style="color:#000">store</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getStore</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">Namespace</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">create</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;stopwatch&#34;</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;startTime&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">currentTimeMillis</span><span style="color:#ce5c00;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">afterEach</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">Store</span> <span style="color:#000">store</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getStore</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">Namespace</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">create</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;stopwatch&#34;</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">long</span> <span style="color:#000">startTime</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">get</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;startTime&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">long</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">long</span> <span style="color:#000">endTime</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">currentTimeMillis</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">long</span> <span style="color:#000">time</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">endTime</span> <span style="color:#ce5c00;font-weight:bold">-</span> <span style="color:#000">startTime</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">String</span> <span style="color:#000">displayName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getDisplayName</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;[&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">displayName</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;] time=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">time</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34; (startTime=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">startTime</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, endTime=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">endTime</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>실행 결과:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>[test1()] time=210 (startTime=1671963856486, endTime=1671963856696)
</span></span><span style="display:flex;"><span>[test3()] time=608 (startTime=1671963856486, endTime=1671963857094)
</span></span><span style="display:flex;"><span>[test2()] time=406 (startTime=1671963856705, endTime=1671963857111)
</span></span></code></pre></div><p><code>test3()</code>의 시간이 600ms 정도가 되어, 잘 동작하게 되었다.
(<code>startTime</code>가 <code>test1()</code>와 같은 이유는, 병렬수 2로 <code>test1()</code>와 <code>test3()</code>가 동시에 시작되었기 때문이므로 문제는 없다.)</p>
<p>이 구현에서는 <code>Store</code> 라는 구조를 이용하고 있다.<br>
<code>Store</code>와는 <code>ExtensionContext</code>별로 준비된 데이터의 넣어서 임의의 데이터를 Key-Value 형식으로 보존할 수 있게 되어 있다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">Store</span> <span style="color:#000">store</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getStore</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">Namespace</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">create</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;stopwatch&#34;</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span><span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;startTime&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">currentTimeMillis</span><span style="color:#ce5c00;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">...</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">long</span> <span style="color:#000">startTime</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">get</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;startTime&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">long</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p><code>Store</code>의 인스턴스는 <code>ExtensionContext</code>의 <a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/ExtensionContext.html#getStore%28org.junit.jupiter.api.extension.ExtensionContext.Namespace%29" target="_blank" rel="noopener"><code>getStore(Namespace)</code><i class="fas fa-external-link-alt"></i></a> 메소드로 받아올 수 있다.<br>
인수에는 <a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/ExtensionContext.Namespace.html" target="_blank" rel="noopener"><code>ExtensionContext.Namespace</code><i class="fas fa-external-link-alt"></i></a>를 지정한다.</p>
<p>동작으로는 <code>ExtensionContext</code>안에는 복수의 <code>Store</code>가 저장되고 있어, 어느 <code>Store</code>을 받아올까를 <code>Namespace</code>로 지정하고 있는 방식이다.
(실제로는 <code>Namespace</code>가 키의 일부로서 이용되고 있을 뿐이고, <code>Store</code>의 실제로 단일 <code>Map</code>이므로 구현되어 있다.)</p>
<p><img src="/docs/junit/junit-extension-store-1.png" alt="Store의 Namespace"></p>
<p>이와 같이 나누어 <code>Namespace</code>으로 <code>Store</code> 별로 있는 것으로, 같은 키를 사용하는 확장 기능이 복수 존재했을 경우도 Store를 나누어 데이터를 공유할 수 있다.<br>
덧붙여서, 모든 확장 기능으로 데이터를 공유하고 싶다면 <code>Namespace.GLOBAL</code>이라는 미리 정의된 상수를 사용하는 방법도 있다.</p>
<p><code>Namespace</code>의 생성에는 <code>create(Object...)</code> 메소드를 사용한다.<br>
인수에는 임의의 오브젝트를 지정할 수 있지만, <code>equals()</code> 메소드로 비교 검증을 할 수 있는 오브젝트가 아니면 안된다.</p>
<h3 id="store-라이프사이클-및-키-검색-방법">Store 라이프사이클 및 키 검색 방법</h3>
<p>Store의 라이프 사이클은 받아오는 곳인 <code>ExtensionContext</code>과 같이 동작한다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">com.devkuma.junit5.extention</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.*</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyStoreExtension</span> <span style="color:#204a87;font-weight:bold">implements</span> <span style="color:#000">BeforeAllCallback</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">BeforeEachCallback</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">AfterEachCallback</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">AfterAllCallback</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">beforeAll</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;[beforeAll]&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">this</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">printStoreValues</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">Store</span> <span style="color:#000">store</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getStore</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">Namespace</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">create</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;foo&#34;</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;hoge&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;INITIAL VALUE&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">beforeEach</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;[beforeEach@&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getDisplayName</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;]&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">this</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">printStoreValues</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">Store</span> <span style="color:#000">store</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getStore</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">Namespace</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">create</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;foo&#34;</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;hoge&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getDisplayName</span><span style="color:#ce5c00;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">afterEach</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;[afterEach@&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getDisplayName</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;]&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">this</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">printStoreValues</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">afterAll</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;[afterAll]&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">this</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">printStoreValues</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">private</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">printStoreValues</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">Store</span> <span style="color:#000">store</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getStore</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">Namespace</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">create</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;foo&#34;</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;  hoge=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">get</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;hoge&#34;</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;  context.class=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getClass</span><span style="color:#ce5c00;font-weight:bold">().</span><span style="color:#c4a000">getCanonicalName</span><span style="color:#ce5c00;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><ul>
<li><code>beforeAll()</code>와 <code>beforeEach()</code>에는 먼저, <code>Store의 정보를 출력한 후 </code>hoge`값을 설정한다.</li>
<li>그리고, <code>afterEach()</code>와 <code>afterAll()</code>에서는 그대로 <code>Store</code>의 정보를 출력하고 있다.</li>
<li>각각 <code>ExtensionContext</code>의 클래스명에 대해서도 맞추어 출력하도록 하고 있다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">com.devkuma.junit5.extention</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.Test</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ExtendWith</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#5c35cc;font-weight:bold">@ExtendWith</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">MyStoreExtension</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyStoreExtensionTest</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">test1</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">test2</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>실행 결과:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>[beforeAll]
</span></span><span style="display:flex;"><span>  hoge=null
</span></span><span style="display:flex;"><span>  context.class=org.junit.jupiter.engine.descriptor.ClassExtensionContext
</span></span><span style="display:flex;"><span>[beforeEach@test1()]
</span></span><span style="display:flex;"><span>  hoge=INITIAL VALUE
</span></span><span style="display:flex;"><span>  context.class=org.junit.jupiter.engine.descriptor.MethodExtensionContext
</span></span><span style="display:flex;"><span>[afterEach@test1()]
</span></span><span style="display:flex;"><span>  hoge=test1()
</span></span><span style="display:flex;"><span>  context.class=org.junit.jupiter.engine.descriptor.MethodExtensionContext
</span></span><span style="display:flex;"><span>[beforeEach@test2()]
</span></span><span style="display:flex;"><span>  hoge=INITIAL VALUE
</span></span><span style="display:flex;"><span>  context.class=org.junit.jupiter.engine.descriptor.MethodExtensionContext
</span></span><span style="display:flex;"><span>[afterEach@test2()]
</span></span><span style="display:flex;"><span>  hoge=test2()
</span></span><span style="display:flex;"><span>  context.class=org.junit.jupiter.engine.descriptor.MethodExtensionContext
</span></span><span style="display:flex;"><span>[afterAll]
</span></span><span style="display:flex;"><span>  hoge=INITIAL VALUE
</span></span><span style="display:flex;"><span>  context.class=org.junit.jupiter.engine.descriptor.ClassExtensionContext
</span></span></code></pre></div><ul>
<li><code>BeforeAllCallback</code>, <code>AfterAllCallback</code>와 같은 클래스 레벨의 <code>Extension</code> 에서는 <code>ExtensionContext</code>으로 <code>ClassExtensionContext</code>가 전달된다.</li>
<li>한편, <code>BeforeEachCallback</code>, <code>AfterEachCallback</code>와 같은 메소드 레벨의 <code>Extension</code>에서는 <code>MethodExtensionContext</code>가 전달된다.</li>
<li>이와 같이 <code>ExtensionContext</code>는 그 확장 기능이 실행되는 레벨에 맞는 구현 인스턴스가 전달된다.</li>
<li>이런한 <code>ExtensionContext</code>에는 부모와 자식 관계가 있으며, <code>MethodExtensionContext</code>의 부모는 <code>ClassExtensionContext</code>이 된다.
<ul>
<li>부모의 컨텍스트를 따라 가면 결국 <code>JupiterEngineExtensionContext</code>에 이르게 된다.
<ul>
<li>부모의 컨텍스트는 <code>ExtensionContext</code>의 <code>getParent()</code> 메소드로 얻을 수 있다.</li>
</ul>
</li>
<li><code>JupiterEngineExtensionContext</code>는 첫번째 부모(루트)의 컨텍스트이다.
<ul>
<li>루트의 컨텍스트는 <code>ExtensionContext</code>의 <code>getRoot()</code> 메소드로 얻을 수 있다.</li>
</ul>
</li>
<li>덧붙여 <code>ExtensionContext</code>구현 클래스에는 다른 <code>TestTemplateExtensionContext</code>, <code>DynamicExtensionContext</code>라는 것도 존재하지만 여기에서는 생략한다.</li>
</ul>
</li>
<li><code>Store</code>는 이러한 컨텍스트의 각 인스턴스별로 유지된다.
<ul>
<li><code>MethodExtensionContext</code>는 테스트 메소드별로 생성된다.</li>
<li>즉, <code>test1()</code>와 <code>test2()</code>의 <code>MethodExtensionContext</code>는 다른 인스턴스가 전달된다.</li>
<li>그러므로 <code>Store</code>도 각각 별도가 된다.</li>
<li>그 결과적으로 <code>test1()</code>에서 <code>Store</code>에 저장된 정보는 <code>test2()</code>에서 참고할 수가 없다.</li>
<li>그래서 <code>MyStopwatch</code>가 <code>Store</code>를 사용하여 병렬 실행 시에 문제를 할 수 있었습니다.
<ul>
<li><code>BeforeEachCallback</code>, <code>AfterEachCallback</code>는 메소드 레벨의 Extension</li>
<li>실행되는 각 테스트 메소드에 대해 컨텍스트가 분리되므로 <code>Store</code>도 별도가 된다.</li>
<li>이로 인해, 병렬 실행되어도 데이터가 충돌하지 않고, 정상적으로 동작할 수 있게 되어 있다.</li>
</ul>
</li>
</ul>
</li>
<li>상위 컨텍스트의 <code>Store</code>에 저장된 정보는 하위 컨텍스트의 <code>Store</code>에서도 볼 수 있다.
<ul>
<li>그리고 자식 컨텍스트 내에서 덮어 쓸 수 있다.</li>
<li>그러나 덮어쓰기된 정보는 하위 컨텍스트의 범위가 종료되고 다른 컨텍스트로 이동하면 부모 컨텍스트에 설정된 원래 값으로 돌아간다.
<ul>
<li><code>test1()</code>에서 설정 한 값이 <code>test2()</code>의 <code>beforeEach()</code>와 <code>afterAll()</code>의 단계에서는 원래의 <code>&quot;INITIAL VALUE&quot;</code>으로 돌아간다.</li>
</ul>
</li>
<li>이 동작은, 지정된 키의 정보가 <code>Store</code>에 존재하지 않았던 경우에, 부모 <code>Store</code>를 재귀적으로 검색하는 것으로 구현되어 있다.</li>
<li>즉, 거기 <code>MethodExtensionContext</code>의 <code>Store</code>에 존재하지 않았던 경우는, 부모의 <code>ClassExtensionContext</code>의 <code>Store</code>를, 거기에도 없으면 루트 <code>Store</code>까지 가면서 검색하게 되어 있다.</li>
<li>이렇게 하면 <code>test1()</code>에서 부모 컨텍스트에서 설정된 값을 참고할 수 있게 된다.</li>
<li>그러나 자식 컨텍스트에서 <code>Store</code>에 값을 설정해도 부모 컨텍스트 <code>Store</code>는 그대로이므로 자식 컨텍스트가 끝나면 부모 컨텍스트 정보가 부 한 것처럼 동작한다.</li>
</ul>
</li>
<li><code>ExtensionContext</code>와 <code>Store</code>의 관계를 그림으로 표현하면 아래와 같다.</li>
</ul>
<p><img src="/docs/junit/junit-extension-store-2.png" alt="ExtensionContext와 Store의 관계"></p>
<h3 id="수명-주기-종료-시-처리-수행">수명 주기 종료 시 처리 수행</h3>
<p><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/ExtensionContext.Store.CloseableResource.html" target="_blank" rel="noopener"><code>CloseableResource</code><i class="fas fa-external-link-alt"></i></a>를 구현한 인스턴스가 <code>Store</code>에 저장되어 있는 경우, 그 <code>Store</code>의 라이프 사이클이 종료할 때 <a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/ExtensionContext.Store.CloseableResource.html#close%28%29" target="_blank" rel="noopener"><code>close()</code><i class="fas fa-external-link-alt"></i></a> 메소드가 자동적으로 호출된다.</p>
<p>먼저, <code>CloseableResource</code>를 상속받은 객체를 만든다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">com.devkuma.junit5.extention</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyCloseableResource</span> <span style="color:#204a87;font-weight:bold">implements</span> <span style="color:#000">ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">Store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">CloseableResource</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">private</span> <span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">String</span> <span style="color:#000">name</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#000">MyCloseableResource</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span> <span style="color:#000">name</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">this</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">name</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">close</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Throwable</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;  Close Resource &gt; &#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#204a87;font-weight:bold">this</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">name</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>그러고, <code>CloseableResource</code> 객체를 생성하여 활용하는 확장 기능을 만든다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">com.devkuma.junit5.extention</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.BeforeAllCallback</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.BeforeEachCallback</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyCloseableResourceExtension</span>  <span style="color:#204a87;font-weight:bold">implements</span> <span style="color:#000">BeforeEachCallback</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">BeforeAllCallback</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">beforeAll</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">MyCloseableResource</span> <span style="color:#000">resource</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">MyCloseableResource</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;BeforeAll&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getStore</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">Namespace</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">GLOBAL</span><span style="color:#ce5c00;font-weight:bold">).</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;foo&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">resource</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">beforeEach</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">MyCloseableResource</span> <span style="color:#000">resource</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">MyCloseableResource</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;BeforeEach(&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getDisplayName</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getStore</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ExtensionContext</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">Namespace</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">GLOBAL</span><span style="color:#ce5c00;font-weight:bold">).</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;foo&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">resource</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>앞에서 만든 확장 기능을 추가한 테스트 코드를 작성한다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">com.devkuma.junit5.extention</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.AfterAll</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.Test</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.junit.jupiter.api.extension.ExtendWith</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#5c35cc;font-weight:bold">@ExtendWith</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">MyCloseableResourceExtension</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyCloseableResourceExtensionTest</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">test1</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;test1()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">test2</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;test2()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@AfterAll</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">afterAll</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;afterAll()&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>실행 결과:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>test1()
</span></span><span style="display:flex;"><span>  Close Resource &gt; BeforeEach(test1())
</span></span><span style="display:flex;"><span>test2()
</span></span><span style="display:flex;"><span>  Close Resource &gt; BeforeEach(test2())
</span></span><span style="display:flex;"><span>afterAll()
</span></span><span style="display:flex;"><span>  Close Resource &gt; BeforeAll
</span></span></code></pre></div>
	<br>

<br>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8543127460401091"
     crossorigin="anonymous"></script>

<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-8543127460401091"
     data-ad-slot="3689386360"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<br>
<script src="https://utteranc.es/client.js"
        repo="devkuma/blog-comments"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>	
	
	
	
<div class="text-muted mt-5 pt-3 border-top">
    최종 수정 : 2024-04-14</div>

</div>


          </main>
        </div>
      </div>
      <footer class="td-footer row d-print-none">
  <div class="container-fluid">
    <div class="row mx-md-2">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
      </div>
      <div class="col-6 col-sm-4 text-end text-xs-center order-sm-3">
        
        
        
<ul class="td-footer__links-list">
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="Toolkit" aria-label="Toolkit">
    <a target="_blank" rel="noopener" href="https://toolkit.devkuma.com" aria-label="Toolkit">
      <i class="fas fa-tools"></i>
    </a>
  </li>
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="Favorites" aria-label="Favorites">
    <a target="_blank" rel="noopener" href="/favorites/" aria-label="Favorites">
      <i class="fa fa-star"></i>
    </a>
  </li>
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="GitHub" aria-label="GitHub">
    <a target="_blank" rel="noopener" href="https://github.com/devkuma" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="Blog" aria-label="Blog">
    <a target="_blank" rel="noopener" href="https://blog.devkuma.com" aria-label="Blog">
      <i class="fab fa-blogger"></i>
    </a>
  </li>
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="Facebook" aria-label="Facebook">
    <a target="_blank" rel="noopener" href="https://www.facebook.com/redfreek2c" aria-label="Facebook">
      <i class="fab fa-facebook"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="td-footer__copyright-etc col-12 col-sm-4 text-center py-2 order-sm-2">
        <span>&copy; 2024 The devkuma All Rights Reserved</span>
        
        
      </div>
    </div>
  </div>
</footer>
    </div>
    
        
    
  <style>
.markmap > svg {
  width: 100%;
  height: 300px;
}
</style>
<script>
window.markmap = {
  autoLoader: {
      manual: true,
      onReady() {
        const { autoLoader, builtInPlugins } = window.markmap;
        autoLoader.transformPlugins = builtInPlugins.filter(plugin => plugin.name !== 'prism');
      },
  },
};
</script>
<script src="https://cdn.jsdelivr.net/npm/markmap-autoloader"></script>
<script src='/js/deflate.js'></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css"
      integrity="sha512-mQwom8Ns4op+H29oDkD/LXO/OsXPvCFfkgZkFAVrhhePzRLU8NUI3Nkm43NhWUSmj3p5Cca2HTEkMQmXQRwDQQ==" crossorigin="anonymous">
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js"
        integrity="sha512-sHSNLECRJSK+BFs7E8DiFc6pf6n90bLI85Emiw1jhreduZhK3VXgq9l4kAt9eTIHYAcuQBKHL01QKs4/3Xgl8g=="
        crossorigin="anonymous">
</script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/mhchem.min.js"
        integrity="sha512-V1hl0fnOXW6Cdqe5ZVqtw8TBpJVpu3XRDRQti96j/04+tMarPrCdXEUE3UdfvfKYTpOn9DV4zEZBVr0HhDiuiQ=="
        crossorigin="anonymous">
</script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js"
       integrity="sha512-iWiuBS5nt6r60fCz26Nd0Zqe0nbk1ZTIQbl3Kv7kYsX+yKMUFHzjaH2+AnM6vp2Xs+gNmaBAVWJjSmuPw76Efg==" crossorigin="anonymous"
       onload='renderMathInElement(document.body, null);'>
</script>
<script src="https://cdn.jsdelivr.net/npm/mermaid@9.3.0/dist/mermaid.min.js" integrity="sha512-ku2nmBrzAXY5YwohzTqLYH1/lvyMrpTVxgQKrvTabd/b/uesqltLORdmpVapYv6QhZVCLUX6wkvFaKOAY4xpUA==" crossorigin="anonymous"></script>
<script src="/js/main.min.adcd5a71d01a294f35ddb01a28ea5f91f6ddf8ca2edf2bd09dfa22f6a676ad96.js" integrity="sha256-rc1acdAaKU813bAaKOpfkfbd&#43;Mou3yvQnfoi9qZ2rZY=" crossorigin="anonymous"></script>
<script defer src="/js/click-to-copy.min.f724d3de49218995223b7316aa2e53e2b34bf42026bf399ebb21bb02212402d1.js" integrity="sha256-9yTT3kkhiZUiO3MWqi5T4rNL9CAmvzmeuyG7AiEkAtE=" crossorigin="anonymous"></script>
<script src='/js/tabpane-persist.js'></script>

  </body>
</html>